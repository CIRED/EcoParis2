(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],d=0,f=[];d<s.length;d++)i=s[d],r[i]&&f.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0466":function(t,e,n){},"054f":function(t,e,n){"use strict";var a=n("fcd1"),r=n.n(a);r.a},"2a3c":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=this,n=e.$createElement,a=e._self._c||n;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade"}},[e.introVisible?a("Intro",{attrs:{onDismiss:function(){return e.introVisible=!1}}}):e._e()],1),a("section",{staticClass:"menu"},[a("LocationControl",{attrs:{onLocation:function(e){return t.currentLocation=e}}}),a("Layers",{attrs:{layers:e.layers},model:{value:e.currentLayer,callback:function(t){e.currentLayer=t},expression:"currentLayer"}}),a("ZoomControl")],1),a("section",{staticClass:"container"},[a("Map",{attrs:{layers:e.layers,currentLayer:e.currentLayer,currentLocation:e.currentLocation,onHist:function(e,n){t.currentHistogramX=e,t.currentHistogramY=n},appRefs:this.$refs}}),a("svg",{ref:"svg",staticClass:"EV-svg"}),a("Sidebar",{attrs:{layers:e.layers,currentLayer:e.currentLayer,currentHistogramX:e.currentHistogramX,currentHistogramY:e.currentHistogramY}})],1)],1)},o=[],i=n("7dc5"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"intro"},[t._m(0),n("p",[t._v("Découvrez l'influence de la nature sur votre vie à Paris.")]),n("section",{staticClass:"buttons"},[n("a",{staticClass:"button accent",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onDismiss(e)}}},[t._v("Commencer")]),n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onDismiss(e)}}},[t._v("Visite guidée")])])])},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("\n    EcoParis\n    "),n("img",{attrs:{src:"assets/parrot.svg"}})])}],c={props:["onDismiss"]},u=c,d=(n("91fa"),n("2877")),f=Object(d["a"])(u,s,l,!1,null,null,null);f.options.__file="Intro.vue";var p=f.exports,h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"zoom-control"},[n("a",{staticClass:"minus",attrs:{href:"#"}},[t._v("-")]),n("a",{staticClass:"plus",attrs:{href:"#"}},[t._v("+")])])}],g={},m=g,y=(n("bf1e"),Object(d["a"])(m,h,v,!1,null,null,null));y.options.__file="ZoomControl.vue";var _=y.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"location-control"},[n("a",{staticClass:"locate",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.locate(e)}}},[n("i",{staticClass:"fas fa-map-marker-alt"})]),n("div",{class:{search:!0,active:t.searchExpanded}},[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleSearch(e)}}},[t.searchExpanded?n("i",{staticClass:"fas fa-search-minus"}):n("i",{staticClass:"fas fa-search-location"})]),n("input",{ref:"searchInput",staticClass:"autocomplete",attrs:{type:"text"},on:{keyup:function(e){if(!("button"in e)&&27!==e.keyCode)return null;t.searchExpanded=!1}}})])])},x=[],C={props:["onLocation"],data:function(){return{searchExpanded:!1}},mounted:function(){var t=this,e=new google.maps.places.Autocomplete(this.$refs.searchInput);e.setFields(["geometry"]),e.setOptions({strictBounds:!0}),e.setBounds({north:i.viewport.topLatitude,south:i.viewport.bottomLatitude,west:i.viewport.leftLongitude,east:i.viewport.rightLongitude}),e.addListener("place_changed",function(){var n=e.getPlace();n.geometry?(t.searchExpanded=!1,t.onLocation([n.geometry.location.lat(),n.geometry.location.lng()])):t.onLocation(null,null)})},methods:{locate:function(){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){t.onLocation([e.coords.latitude,e.coords.longitude])})},toggleSearch:function(){this.searchExpanded^=!0,this.$refs.searchInput.focus()},keypressSearch:function(t){alert(JSON.stringify(t))}}},w=C,E=(n("bed8"),Object(d["a"])(w,b,x,!1,null,null,null));E.options.__file="LocationControl.vue";var P=E.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"layers"},[n("h3",[t._v("Couches")]),n("div",{staticClass:"buttons"},t._l(t.layers,function(e){return e.hidden?t._e():n("a",{class:{active:t.value==e},on:{click:function(n){n.preventDefault(),t.select(e)}}},[n("span",{staticClass:"icon",domProps:{innerHTML:t._s(e.icon)}}),n("span",[t._v(t._s(e.name))]),e.loaded?t._e():n("div",{staticClass:"loader-tile-grid"},[n("div",{staticClass:"loader-tile loader-tile1"}),n("div",{staticClass:"loader-tile loader-tile2"}),n("div",{staticClass:"loader-tile loader-tile3"}),n("div",{staticClass:"loader-tile loader-tile4"}),n("div",{staticClass:"loader-tile loader-tile5"}),n("div",{staticClass:"loader-tile loader-tile6"}),n("div",{staticClass:"loader-tile loader-tile7"}),n("div",{staticClass:"loader-tile loader-tile8"}),n("div",{staticClass:"loader-tile loader-tile9"})])])}))])},k=[],T={props:["layers","value"],methods:{select:function(t){t.loading||this.$emit("input",t)}}},O=T,S=(n("054f"),Object(d["a"])(O,j,k,!1,null,null,null));S.options.__file="Layers.vue";var D=S.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{ref:"map",staticClass:"map"})},V=[],$=(n("ac6a"),n("3835")),z=n("2909"),I=(n("a481"),"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png"),M='&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>';function A(t,e){var n=L.map(t,{zoomControl:!1});n.fitBounds(e);var a=L.tileLayer(I,{minZoom:9,maxZoom:14,attribution:M});return a.addTo(n),n}function B(t){return fetch(t).then(function(t){return t.json()}).then(function(t){return t.data=JSON.parse(t.data),t})}var N=function(t,e,n,a,r,o,s){var l=null,c=null;console.log(t);var u=new L.LatLng(i.viewport.topLatitude,i.viewport.leftLongitude),d=new L.LatLng(i.viewport.bottomLatitude,i.viewport.rightLongitude),f=L.latLngBounds(u,d);function p(t){return a.features.some(function(e){return d3.geoContains(e,t)})}function h(t,e){t&&e&&p([e,t])?(m.panTo(new L.LatLng(t,e)),m.setZoom(11)):(t=null,e=null,m.fitBounds(f)),l=t,c=e,v()}function v(){if(l&&c){var t=m.latLngToLayerPoint([l,c]),e=t.x-Y.iconAnchor[0],n=t.y-Y.iconAnchor[1];U.attr("visibility","visible"),U.attr("transform","translate(".concat(e,", ").concat(n,")"))}else U.attr("visibility","hidden")}function g(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){h(t.coords.latitude,t.coords.longitude)})}g();var m=A(t,f);function y(t){return{opacity:0,fillOpacity:0}}L.geoJson(a,{style:y}).addTo(m);var _=d3.select(t).select(".leaflet-zoom-animated");function b(t,e){var n=m.latLngToLayerPoint(new L.LatLng(e,t));this.stream.point(n.x,n.y)}var x=d3.geo.transform({point:b}),C=d3.geo.path().projection(x),w=_.append("defs"),E=w.append("path").attr("id","clip_path");w.append("clipPath").attr("id","clip").append("use").attr("xlink:href","#clip_path");var P=_.selectAll("image").data([0]).enter().append("svg:image").attr("x",0).attr("y",0).attr("xlink:href","").attr("clip-path","");function j(){function t(t,e){var n=m.latLngToLayerPoint([W[S].tl_lat,W[S].tl_lng]),a=m.latLngToLayerPoint([W[S].br_lat,W[S].br_lng]),r=a.x-n.x,o=a.y-n.y,i=m.latLngToLayerPoint(L.latLng(e,t)),s=(i.x-n.x)/(a.x-n.x)*(r-1),l=(i.y-n.y)/(a.y-n.y)*(o-1);this.stream.point(s,l)}var e=d3.geo.transform({point:t}),n=d3.geo.path().projection(e);E.attr("d",n)}var k=0,T=.4,O=1,S="",D=d3.select(e).attr("style","display:none;"),H=D.selectAll("image").data([0]).enter().append("svg:image").attr("x",0).attr("y",0).attr("xlink:href",""),V=D.append("g");function $(t,e){var n=i.EV_path;if(W[i.EV_path]){var a=parseInt(D.style("width").replace("px","")),r=parseInt(D.style("height").replace("px",""));D.attr("style","top:"+(e-r-30)+"; left:"+(t-a/2)+"; display:'';");var o=L.latLng(W[n].tl_lat,W[n].tl_lng),s=L.latLng(W[n].br_lat,W[n].br_lng),l=m.latLngToContainerPoint(o),c=(m.latLngToContainerPoint(s),m.latLngToLayerPoint(s).x-m.latLngToLayerPoint(o).x),u=m.latLngToLayerPoint(s).y-m.latLngToLayerPoint(o).y;H.attr("width",c),H.attr("height",u),H.attr("transform",function(n){return"translate("+(+l.x-t+a/2)+","+(+l.y-e+r/2)+")"})}}V.selectAll("path").data([a.features[0]]).enter().append("path").attr("vector-effect","non-scaling-stroke").style("stroke","#000").style("fill-opacity",0).style("stroke-opacity",1);var I=_.append("g").selectAll("path").data(r.features).enter().append("path").attr("d",C).attr("vector-effect","non-scaling-stroke").style("stroke","#666").style("fill-opacity",k).style("stroke-opacity",k).on("mouseover",function(t,e){d3.select(this).style("fill-opacity",k),E.datum(t.geometry),j(),F(e,S,!0),$(t),Z(e,S,!0)}).on("mouseout",function(t,e){-1!=M&&(d3.select(this).style("fill-opacity",N(M)(t,e)),d3.select(this).style("stroke-opacity",N(M)(t,e))),E.datum([]),j(),D.attr("style","display:none;")}).on("click",function(t,e){X.style("pointer-events","all"),m.fitBounds(f),M=-1,X.style("fill-opacity",O),I.style("fill-opacity",k),I.style("stroke-opacity",k),E.datum([]),j(),D.attr("style","display:none;")}).on("mousemove",function(){d3.event&&d3.event.clientX&&d3.event.clientY&&$(d3.event.layerX,d3.event.layerY)}),M=-1;function N(t){function e(e,n){return G[t]<=n&&(t==a.features.length-1||G[t+1]>n)?1:0}return e}var X=_.append("g").selectAll("path").data(a.features).enter().append("path").attr("d",C).attr("vector-effect","non-scaling-stroke").style("stroke","#333").attr("fill","#fff").attr("fill-opacity",O).style("pointer-events","all").on("mouseover",function(t,e){-1!=M?e!=M?d3.select(this).style("fill-opacity",O):d3.select(this).style("fill-opacity",k):d3.select(this).style("fill-opacity",T),F(e,S,!1),$(t),Z(e,S,!1)}).on("mouseout",function(t,e){-1!=M?e==M?d3.select(this).style("fill-opacity",k):d3.select(this).style("fill-opacity",T):d3.select(this).style("fill-opacity",O),D.attr("style","display:none;")}).on("click",function(t,e){X.style("pointer-events","all"),d3.select(this).style("pointer-events","none"),X.style("fill-opacity",T),d3.select(this).style("fill-opacity",k),M=e,I.style("fill-opacity",N(e)),I.style("stroke-opacity",N(e));var n=d3.select(this).node().getBBox(),a=m.layerPointToLatLng(L.point(n.x,n.y)),r=m.layerPointToLatLng(L.point(n.x+n.width,n.y+n.height));m.fitBounds(L.latLngBounds(a,r)),D.attr("style","display:none;")}).on("mousemove",function(){d3.event&&d3.event.clientX&&d3.event.clientY&&$(d3.event.layerX,d3.event.layerY)}),Y={iconUrl:"assets/marker.png",iconSize:[24,24],iconAnchor:[12,24]},U=_.append("g").selectAll("image").data([0]).enter().append("svg:image").attr("xlink:href",Y.iconUrl).attr("width",Y.iconSize[0]).attr("height",Y.iconSize[1]).attr("visibility","hidden").style("pointer-events","none"),q=document.createElement("canvas"),J=(q.getContext("2d"),{hide:!0});function F(t,e,n){var a=W[e];if(a){if(1==n)var r=a.voronoi_hist[t];else r=a.interComm_hist[t];r[0]=0,o(Object(z["a"])(Array(256).keys()),r)}}function Z(t,e,n){if(e==i.Urban_cooling){var a=W[i.Ecole_path];if(!a)return;if(1==n)a.voronoi_hist[t];else a.interComm_hist[t]}}function R(){if(J.hide)return console.log("hidden!"),X.attr("visibility","hidden"),I.attr("visibility","hidden"),P.attr("visibility","hidden"),void H.attr("visibility","hidden");X.attr("visibility","visible"),I.attr("visibility","visible"),P.attr("visibility","visible"),H.attr("visibility","visible");var t=J.tl,e=J.br;console.log("UPDATING");var n=m.latLngToLayerPoint(e).x-m.latLngToLayerPoint(t).x,a=m.latLngToLayerPoint(e).y-m.latLngToLayerPoint(t).y;P.attr("transform",function(e){var n=m.latLngToLayerPoint(t);return"translate("+n.x+","+n.y+")"}),P.attr("width",n),P.attr("height",a),X.attr("d",C),I.attr("d",C),j(),v(),D.attr("style","display:none;")}m.on("viewreset",R);var G=[],W={};function K(t,e,n){if(W[t])n();else{e[0],e[1];fetch(t).then(function(t){return t.json()}).then(function(o){o.data=JSON.parse(o.data),o.percentiles=JSON.parse(o.percentiles);var s=o.data;q.width=o.width,q.height=o.height;var l=q.getContext("2d");l.createImageData(q.width,q.height);for(var c=q.height*q.width,u=1,d=0,f=c/u,p=q.height/u,h=[],v=[],g={},m=0;m<r.features.length;++m){v[m]=0,h[m]=0,g[m]=[];for(var y=0;y<256;++y)g[m][y]=0}var _=[],L=[],b={};for(m=0;m<a.features.length;++m){L[m]=0,_[m]=0,b[m]=[];for(y=0;y<256;++y)b[m][y]=0}G=[];for(m=0;m<a.features.length;++m)G[m]=1e4;var x=function(e){for(var s=e.data.result,c=e.data.index,f=e.data.interComm_counts,m=e.data.interComm_means,y=e.data.voronoi_counts,x=e.data.voronoi_means,C=e.data.firstVoronoiByInterComm,w=e.data.voronoi_hist,E=e.data.interComm_hist,j=0;j<r.features.length;++j){v[j]+=y[j],h[j]+=x[j];for(var k=0;k<256;++k)g[j][k]+=w[j][k]}for(j=0;j<a.features.length;++j){L[j]+=f[j],_[j]+=m[j];for(k=0;k<256;++k)b[j][k]+=E[j][k];G[j]>C[j]&&(G[j]=C[j])}if(l.putImageData(s,0,p*c),d++,d==u){if(t==i.Ecole_path){for(j=0;j<r.features.length;++j)h[j]/=255;for(j=0;j<a.features.length;++j)_[j]/=255}else{for(j=0;j<r.features.length;++j)0!=v[j]&&(h[j]/=v[j]);for(j=0;j<a.features.length;++j)0!=L[j]&&(_[j]/=L[j])}var T=[70,140],O=q.toDataURL("png");P.attr("xlink:href",O),W[t]={url:O,tl_lat:o.tl_lat,tl_lng:o.tl_lng,br_lat:o.br_lat,br_lng:o.br_lng,width:q.width,height:q.height,voronoi_means:h,interComm_means:_,voronoi_hist:g,interComm_hist:b,hist_buckets:T,percentiles:o.percentiles,layerUrl:t},n()}},C=tt(o.percentiles,e),w=C[0],E=C[1];B("data/voronoi_cont.json").then(function(t){B("data/intercomm_cont.json").then(function(e){for(var n=0;n<u;n++){var i=new Worker("assets/pictureProcessor.js");i.onmessage=x;var c=l.getImageData(0,p*n,q.width,p);i.postMessage({canvasData:c,pixels:s,index:n,length:f,width:q.width,height:q.height,voronoiContainmentData:t.data,interCommContainmentData:e.data,numVoronois:r.features.length,numInterComms:a.features.length,tl_lat:o.tl_lat,tl_lng:o.tl_lng,br_lat:o.br_lat,br_lng:o.br_lng,colorDomain:w,colorRange:E})}})})})}}function Q(t){H.attr("xlink:href",W[i.EV_path].url)}function tt(t,e){var n=t.slice();n.unshift(0),n.push(255);for(var a=n.length,r=e.length,o=[],i=0;i<r;++i)o[i]=i/(r-1);var s=d3.scale.linear().domain(o).range(e),l=[];for(i=0;i<a;++i){var c=i/(a-1);l.push(s(c))}return[n,l]}function et(t,e){if(!t)return J.hide=!0,void R();K(t,e,function(){t==i.EV_path?P.attr("clip-path",""):P.attr("clip-path","url(#clip)");var n=W[t],a=tt(n.percentiles,e),r=a[0],o=a[1],s=d3.scale.linear().range(o).domain(r);I.attr("fill",function(e,a){return t==i.EV_path?"#00000022":s(n.voronoi_means[a])}),X.attr("fill",function(e,a){return t==i.EV_path?"#00000022":s(n.interComm_means[a])}),q.width=n.width,q.height=n.height,J.hide=!1,J.tl=new L.LatLng(n.tl_lat,n.tl_lng),J.br=new L.LatLng(n.br_lat,n.br_lng),J.current_geoLat=l,J.current_geoLong=c,R(),S=t,P.attr("xlink:href",n.url)})}return[K,et,h,Q]},X={props:["layers","currentLayer","currentLocation","onHist","appRefs","onSchools"],data:function(){return{loadLayer:function(){},setLayer:function(){},setLocation:function(){}}},mounted:function(){var t=this,e="data/intercommunalites.geojson",n="data/voronois.json";queue().defer(d3.json,e).defer(d3.json,n).await(function(e,n,a){var r=N(t.$refs.map,t.appRefs.svg,e,n,a,function(e,n){return t.onHist(e,n)},t.onSchools),o=Object($["a"])(r,5);t.loadLayer=o[0],t.setLayer=o[1],t.setLocation=o[2],t.setEVLayer=o[3],t.setTextUrban=o[4],i.layers.forEach(function(e){return t.loadLayer(e.path,e.colors,function(){t.layers[e.path].loaded=!0,e.path==i.EV_path&&t.setEVLayer(e.path)})}),t.setLayer(t.currentLayer)})},watch:{currentLayer:function(t){this.setLayer(t.path,t.colors)},currentLocation:function(t){var e=Object($["a"])(t,2),n=e[0],a=e[1];this.setLocation(n,a)}}},Y=X,U=(n("894b"),Object(d["a"])(Y,H,V,!1,null,null,null));U.options.__file="Map.vue";var q=U.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sidebar"},[t.currentLayer&&t.layers[t.currentLayer.path].loaded?n("div",[n("h2",[t._v(t._s(t.layers[t.currentLayer.path].title))]),n("div",{domProps:{innerHTML:t._s(t.layers[t.currentLayer.path].content)}}),n("Histogram",{attrs:{x:t.currentHistogramX,y:t.currentHistogramY}})],1):n("div",{staticClass:"split"},[t._m(0),t._m(1)])])},F=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("h2",[t._v("Bienvenue sur EcoParis.")]),n("p",[t._v("EcoParis est une visualisation interactive des données cartographiques des services écosystémiques en territoires urbains et péri-urbains en région Ile-de-France issues du projet "),n("a",{attrs:{href:"https://idefese.wordpress.com/"}},[t._v("IDEFESE")]),t._v(".")]),n("p",[t._v("Pour commencer, vous pouvez sélectionner une couche à afficher parmi des mesures de rétention "),n("a",{attrs:{href:"#"}},[t._v("de phosphore")]),t._v(" et "),n("a",{attrs:{href:"#"}},[t._v("d'azote")]),t._v(", des mesures de "),n("a",{attrs:{href:"#"}},[t._v("réduction de la température")]),t._v(" due à la végétation ou encore de "),n("a",{attrs:{href:"#"}},[t._v("valeur économique")]),t._v(" des régions.")]),n("p",[t._v("Vous pouvez aussi choisir d'afficher l'évolution estimée de ces mesures à l'horizon 2025 dans un scénario de changement climatique.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"about"},[n("p",[t._v("EcoParis a été conçu par des élèves du cours de "),n("a",{attrs:{href:"https://edu.epfl.ch/coursebook/en/data-visualization-COM-480"}},[t._v("Data Visualization")]),t._v(" de l'EPFL, avec l'aide de Perrine Hamel du projet "),n("a",{attrs:{href:"https://naturalcapitalproject.stanford.edu/"}},[t._v("Natural Capital Project")]),t._v(" de Stanford.")]),n("section",{staticClass:"slideshow"},[n("a",{attrs:{href:"https://www.epfl.ch/"}},[n("img",{attrs:{src:"https://mediacom.epfl.ch/files/content/sites/mediacom/files/EPFL-Logo.jpg",alt:"Logo EPFL"}})]),n("a",{attrs:{href:"https://naturalcapitalproject.stanford.edu/"}},[n("img",{attrs:{src:"https://idefese.files.wordpress.com/2018/11/image5.jpg?w=172&h=171",alt:"Logo NatCap"}})])])])}],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"graph",staticClass:"graph-box"})},R=[],G=function(t){Plotly.react(t.$refs.graph,[{x:t.x,y:t.y,type:"histogram",histfunc:"sum",xbins:{end:256,size:1,start:0}}],{margin:{l:35,r:35,t:5,b:20}},{displayModeBar:!1})},W={props:["x","y"],mounted:function(){G(this)},watch:{x:function(){G(this)}}},K=W,Q=(n("cd26"),Object(d["a"])(K,Z,R,!1,null,null,null));Q.options.__file="Histogram.vue";var tt=Q.exports,et={props:["layers","currentLayer","currentHistogramX","currentHistogramY"],components:{Histogram:tt}},nt=et,at=(n("f203"),Object(d["a"])(nt,J,F,!1,null,null,null));at.options.__file="Sidebar.vue";var rt=at.exports,ot={data:function(){return{layers:i.layers.reduce(function(t,e){return t[e.path]=e,t[e.path].loaded=!1,t},{}),currentLayer:null,currentLocation:null,currentHistogramX:null,currentHistogramY:null,introVisible:!0,sidebarVisible:!1}},components:{Intro:p,ZoomControl:_,LocationControl:P,Layers:D,Map:q,Sidebar:rt},methods:{onLayerLoaded:function(t){console.log(t)}}},it=ot,st=(n("5c0b"),Object(d["a"])(it,r,o,!1,null,null,null));st.options.__file="App.vue";var lt=st.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(lt)}}).$mount("#app")},"58be":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5e27":function(t,e,n){},"7dc5":function(t){t.exports={layers:[{path:"data/rasters/espaces_verts.json",name:"Esp. verts",icon:"E",colors:["#00ff00","#0000ff","#008800"],title:"Mesure de la rétention d'azote.",content:"<p>Should not appear anyway, find something to fill here.</p>"},{path:"data/rasters/pollination_cc.json",name:"Phosph.",icon:"P",colors:["#ffffcc","#e31a1c"],title:"Mesure de la rétention de phosphore.",content:"<p>Le service de rétention du phosphore permet d'améliorer la qualité de l'eau (superficielle et souterraine). Il est directement utile aux organismes de gestion de l'eau (syndicats et département d'assainissement), et donc aux habitants dont les impôts financent la maintenance des services d'assainissement.</p>"},{path:"data/rasters/T_reduction.json",name:"Nitrog.",icon:"N",colors:["#ff3300","#ffffff","#00ccff"],title:"Mesure de la rétention d'azote.",content:"<p>Le service de rétention de l'azote permet d'améliorer la qualité de l'eau (superficielle et souterraine). Il est directement utile aux organismes de gestion de l'eau (syndicats et département d'assainissement), et donc aux habitants dont les impôts financent la maintenance des services d'assainissement.</p>"},{path:"data/rasters/ecoles_elementaires.json",name:"Ecoles elementaires",icon:"E",colors:["#ffffff","#339933"],title:"Nombre d'écoles élémentaires et maternelles",content:"<p>Should not appear anyway, find something to fill here.</p>",hidden:!0}],viewport:{topLatitude:49.23719070644322,bottomLatitude:48.12054154281846,leftLongitude:1.44727950476602,rightLongitude:3.555686958558566},EV_path:"data/rasters/espaces_verts.json",Ecole_path:"data/rasters/ecoles_elementaires.json",Urban_cooling:"data/rasters/T_air_ref.json"}},"894b":function(t,e,n){"use strict";var a=n("a130"),r=n.n(a);r.a},"91fa":function(t,e,n){"use strict";var a=n("a90f"),r=n.n(a);r.a},a130:function(t,e,n){},a90f:function(t,e,n){},bed8:function(t,e,n){"use strict";var a=n("2a3c"),r=n.n(a);r.a},bf1e:function(t,e,n){"use strict";var a=n("d162"),r=n.n(a);r.a},cd26:function(t,e,n){"use strict";var a=n("58be"),r=n.n(a);r.a},d162:function(t,e,n){},f203:function(t,e,n){"use strict";var a=n("0466"),r=n.n(a);r.a},fcd1:function(t,e,n){}});
//# sourceMappingURL=app.40aa8e37.js.map