{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Layers.vue?83df","webpack:///./src/App.vue?0524","webpack:///./src/components/Intro.vue?24ee","webpack:///src/components/Intro.vue","webpack:///./src/components/Intro.vue?21f1","webpack:///./src/components/Intro.vue","webpack:///./src/components/ZoomControl.vue?9c71","webpack:///src/components/ZoomControl.vue","webpack:///./src/components/ZoomControl.vue?b509","webpack:///./src/components/ZoomControl.vue?f0d9","webpack:///./src/components/LocationControl.vue?1f5c","webpack:///src/components/LocationControl.vue","webpack:///./src/components/LocationControl.vue?071a","webpack:///./src/components/LocationControl.vue","webpack:///./src/components/Layers.vue?f11f","webpack:///src/components/Layers.vue","webpack:///./src/components/Layers.vue?1d7e","webpack:///./src/components/Layers.vue","webpack:///./src/components/Map.vue?e553","webpack:///./src/map.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue","webpack:///./src/components/Sidebar.vue?7974","webpack:///./src/components/Histogram.vue?d33e","webpack:///src/components/Histogram.vue","webpack:///./src/components/Histogram.vue?11b6","webpack:///./src/components/Histogram.vue","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?d975","webpack:///./src/components/Sidebar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?bcb1","webpack:///./src/components/Map.vue?357b","webpack:///./src/components/Intro.vue?6183","webpack:///./src/components/LocationControl.vue?9aba","webpack:///./src/components/ZoomControl.vue?bf9b","webpack:///./src/components/Histogram.vue?f3a7","webpack:///./src/components/Sidebar.vue?652c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Layers_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Layers_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_0eca9a5c_render","this$1","this","_vm","_h","$createElement","_c","_self","attrs","id","onDismiss","introVisible","_e","staticClass","onLocation","loc","currentLocation","layers","model","callback","$$v","currentLayer","expression","onHist","x","y","currentHistogramX","currentHistogramY","appRefs","$refs","ref","staticRenderFns","Introvue_type_template_id_8e00bca0_render","_m","_v","href","on","click","$event","preventDefault","Introvue_type_template_id_8e00bca0_staticRenderFns","src","Introvue_type_script_lang_js_","props","components_Introvue_type_script_lang_js_","component","componentNormalizer","options","__file","Intro","ZoomControlvue_type_template_id_5796146f_render","ZoomControlvue_type_template_id_5796146f_staticRenderFns","ZoomControlvue_type_script_lang_js_","components_ZoomControlvue_type_script_lang_js_","ZoomControl_component","ZoomControl","LocationControlvue_type_template_id_58e9f847_render","locate","class","search","active","searchExpanded","toggleSearch","type","keyup","keyCode","LocationControlvue_type_template_id_58e9f847_staticRenderFns","LocationControlvue_type_script_lang_js_","mounted","_this","api","google","maps","places","Autocomplete","searchInput","setFields","setOptions","strictBounds","setBounds","north","config","viewport","topLatitude","south","bottomLatitude","west","leftLongitude","east","rightLongitude","addListener","place","getPlace","geometry","location","lat","lng","methods","_this2","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","focus","keypressSearch","e","alert","JSON","stringify","components_LocationControlvue_type_script_lang_js_","LocationControl_component","LocationControl","Layersvue_type_template_id_ee72e908_render","_l","layer","hidden","select","domProps","innerHTML","_s","icon","loaded","Layersvue_type_template_id_ee72e908_staticRenderFns","Layersvue_type_script_lang_js_","loading","$emit","components_Layersvue_type_script_lang_js_","Layers_component","Layers","Mapvue_type_template_id_5e9e3c44_render","Mapvue_type_template_id_5e9e3c44_staticRenderFns","MAP_TILES","MAP_ATTRIB","createMap","element","initialBounds","map","L","zoomControl","fitBounds","base","tileLayer","minZoom","maxZoom","attribution","addTo","loadContainmentFile","url","fetch","then","res","json","parse","src_map","EV_svg_element","EV_circle_svg_element","error","interComm_shape","voronoi_shape","onHistChange","onSchools","current_geoLat","current_geoLong","console","log","default_tl","LatLng","Config","default_br","latLngBounds","isWithinParis","point","features","some","d3","geoContains","setLocation","panTo","setZoom","updateMarker","latLngToLayerPoint","markerIcon","iconAnchor","markerElement","attr","concat","setLocationFromCurrent","blankStyle","feature","opacity","fillOpacity","geoJson","style","svg","projectPoint","stream","transform","geo","path","projection","defs","append","defs_path","imgs","selectAll","enter","update_clip","clip_projectPoint","default_tl_point","cachedLayers","currentLayerPath","tl_lat","tl_lng","default_br_point","br_lat","br_lng","width","height","latLng","tx","ty","clip_transform","clip_path","emptyOpacity","fadedOpacity","fullOpacity","svg_EV","svg_circle_EV","imgs_EV","shape_EV","update_EV_preview","mouseX","mouseY","layer_path","EV_path","svg_width","parseInt","replace","svg_height","tl","br","tl_pixels","latLngToContainerPoint","image_width","image_height","voronoi","datum","update_chart","update_text_school","highlightedInterComm","oneIfInInterComm","interComms","event","clientX","clientY","layerX","layerY","interCommIndex","oneIfInInterComm_","firstVoronoiByInterComm","BBox","node","getBBox","neBound","layerPointToLatLng","swBound","iconUrl","iconSize","canvas","document","createElement","update_parameters","getContext","hide","layerURL","voro","info","voronoi_hist","interComm_hist","toConsumableArray","Array","keys","Urban_cooling","Ecole_path","update","loadLayer","colors","percentiles","pixels","tempContext","createImageData","len","workersCount","finished","segmentLength","blockSize","voronoi_means","voronoi_counts","interComm_means","interComm_counts","onWorkEnded","canvasData","index","interComm_counts_portion","interComm_means_portion","voronoi_counts_portion","voronoi_means_portion","firstVoronoiByInterCommPortion","voronoi_hist_portion","interComm_hist_portion","putImageData","hist_buckets","toDataURL","layerUrl","domain_range","computeColorRange","domain","range","voronoiContainment","interCommContainment","worker","Worker","onmessage","getImageData","postMessage","voronoiContainmentData","interCommContainmentData","numVoronois","numInterComms","colorDomain","colorRange","setEVLayer","domain_percentiles","unshift","domainLength","rangeLength","intermediateDomain","intermediateScale","scale","linear","range_out","setLayer","colorScale","_","Mapvue_type_script_lang_js_","urlInterComm","urlVoronoi","queue","defer","await","v","_displayMap","circle_svg","_displayMap2","slicedToArray","setTextUrban","forEach","watch","_ref","_ref2","components_Mapvue_type_script_lang_js_","Map_component","Map","Sidebarvue_type_template_id_02bf65a5_render","title","content","Sidebarvue_type_template_id_02bf65a5_staticRenderFns","alt","Histogramvue_type_template_id_1bee94a0_render","Histogramvue_type_template_id_1bee94a0_staticRenderFns","updatePlot","that","Plotly","react","graph","histfunc","xbins","end","size","start","margin","b","displayModeBar","Histogramvue_type_script_lang_js_","components_Histogramvue_type_script_lang_js_","Histogram_component","Histogram","Sidebarvue_type_script_lang_js_","components","components_Sidebarvue_type_script_lang_js_","Sidebar_component","Sidebar","defaultLayer","Appvue_type_script_lang_js_i","Appvue_type_script_lang_js_","reduce","sidebarVisible","src_Appvue_type_script_lang_js_","App_component","App","Vue","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Intro_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Intro_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ZoomControl_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ZoomControl_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Sidebar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Sidebar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.c7e8513b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.introVisible)?_c('Intro',{attrs:{\"onDismiss\":function () { return _vm.introVisible = false; }}}):_vm._e()],1),_c('section',{staticClass:\"menu\"},[_c('LocationControl',{attrs:{\"onLocation\":function (loc) { return this$1.currentLocation = loc; }}}),_c('Layers',{attrs:{\"layers\":_vm.layers},model:{value:(_vm.currentLayer),callback:function ($$v) {_vm.currentLayer=$$v},expression:\"currentLayer\"}}),_c('ZoomControl')],1),_c('section',{staticClass:\"container\"},[_c('Map',{attrs:{\"layers\":_vm.layers,\"currentLayer\":_vm.currentLayer,\"currentLocation\":_vm.currentLocation,\"onHist\":function (x,y) {this$1.currentHistogramX = x; this$1.currentHistogramY = y;},\"appRefs\":this.$refs}}),_c('svg',{ref:\"circle_svg\",staticClass:\"EV-circle-svg\"}),_c('svg',{ref:\"svg\",staticClass:\"EV-svg\"}),_c('Sidebar',{attrs:{\"layers\":_vm.layers,\"currentLayer\":_vm.currentLayer,\"currentHistogramX\":_vm.currentHistogramX,\"currentHistogramY\":_vm.currentHistogramY}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"intro\"},[_vm._m(0),_c('p',[_vm._v(\"Découvrez l'influence de la nature sur votre vie à Paris.\")]),_c('section',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button accent\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDismiss($event)}}},[_vm._v(\"Commencer\")]),_c('a',{staticClass:\"button\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDismiss($event)}}},[_vm._v(\"Visite guidée\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_vm._v(\"\\n    EcoParis\\n    \"),_c('img',{attrs:{\"src\":\"assets/parrot.svg\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"intro\">\n    <h1>\n      EcoParis\n      <img src=\"assets/parrot.svg\">\n    </h1>\n\n    <p>Découvrez l'influence de la nature sur votre vie à Paris.</p>\n\n    <section class=\"buttons\">\n      <a @click.prevent=\"onDismiss\" href=\"#\" class=\"button accent\">Commencer</a>\n      <a @click.prevent=\"onDismiss\" href=\"#\" class=\"button\">Visite guidée</a>\n    </section>\n  </section>\n</template>\n\n<script>\nexport default {\n  props: ['onDismiss']\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.intro {\n  z-index: 1001;\n  position: fixed;\n  display: flex;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  color: #fff;\n  // background: linear-gradient(to right, rgba(#1fa2ff, .95), rgba(#12d8fa, .95), rgba(#a6ffcb, .95));\n  // background: linear-gradient(to right, rgba(#4cb8c4, .95), rgba(#3cd3ad, .95));\n  // background: linear-gradient(to right, rgba(#56ab2f, .95), rgba(#a8e063, .95));\n  background: linear-gradient(to right, rgba(#ffe259, .93), rgba(#ffa751, .95));\n}\n\n.intro.fade-enter-active, .intro.fade-leave-active {\n  transition: opacity .3s;\n}\n\n.intro.fade-enter, .intro.fade-leave-to {\n  opacity: 0;\n}\n\n.intro h1, .intro p {\n  text-shadow: 0 0 2px rgba(0, 0, 0, .4);\n}\n\n.intro h1 {\n  font-family: 'Cedarville Cursive';\n  font-size: 38pt;\n  margin: 0 0 -.3rem;\n  position: relative;\n}\n\n.intro h1 img {\n  position: absolute;\n  width: 64px;\n  top: -8px;\n  right: -30px;\n}\n\n.intro p {\n  font-size: 21pt;\n  margin: 0;\n}\n\n.intro .buttons {\n  margin-top: 60px;\n}\n\n.intro .button {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Intro.vue?vue&type=template&id=8e00bca0&\"\nimport script from \"./Intro.vue?vue&type=script&lang=js&\"\nexport * from \"./Intro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Intro.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Intro.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"zoom-control\"},[_c('a',{staticClass:\"minus\",attrs:{\"href\":\"#\"}},[_vm._v(\"-\")]),_c('a',{staticClass:\"plus\",attrs:{\"href\":\"#\"}},[_vm._v(\"+\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"zoom-control\">\n    <a href=\"#\" class=\"minus\">-</a>\n    <a href=\"#\" class=\"plus\">+</a>\n  </section>\n</template>\n\n<script>\nexport default {}\n</script>\n\n<style>\n.zoom-control {\n  width: 80px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoomControl.vue?vue&type=template&id=5796146f&\"\nimport script from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ZoomControl.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ZoomControl.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"location-control\"},[_c('a',{staticClass:\"locate\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.locate($event)}}},[_c('i',{staticClass:\"fas fa-map-marker-alt\"})]),_c('div',{class:{search: true, active: _vm.searchExpanded}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSearch($event)}}},[(_vm.searchExpanded)?_c('i',{staticClass:\"fas fa-search-minus\"}):_c('i',{staticClass:\"fas fa-search-location\"})]),_c('input',{ref:\"searchInput\",staticClass:\"autocomplete\",attrs:{\"type\":\"text\"},on:{\"keyup\":function($event){if(!('button' in $event)&&$event.keyCode!==27){ return null; }_vm.searchExpanded = false}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"location-control\">\n    <a href=\"#\" class=\"locate\"\n        @click.prevent=\"locate\">\n      <i class=\"fas fa-map-marker-alt\"></i>\n    </a>\n    <div :class=\"{search: true, active: searchExpanded}\">\n      <a href=\"#\" @click.prevent=\"toggleSearch\">\n        <i v-if=\"searchExpanded\" class=\"fas fa-search-minus\"></i>\n        <i v-else class=\"fas fa-search-location\"></i>\n      </a>\n      <input type=\"text\" class=\"autocomplete\" ref=\"searchInput\"\n        @keyup.27=\"searchExpanded = false\">\n    </div>\n  </section>\n</template>\n\n<script>\nimport Config from '../config.json'\n\nexport default {\n  props: ['onLocation'],\n\n  data: () => ({\n    searchExpanded: false\n  }),\n\n  mounted() {\n    const api = new google.maps.places.Autocomplete(this.$refs.searchInput)\n    api.setFields(['geometry'])\n    api.setOptions({strictBounds: true})\n    api.setBounds({\n      north: Config.viewport.topLatitude,\n      south: Config.viewport.bottomLatitude,\n      west: Config.viewport.leftLongitude,\n      east: Config.viewport.rightLongitude,\n    })\n\n    api.addListener('place_changed', () => {\n      const place = api.getPlace()\n\n      if (!place.geometry) {\n        this.onLocation(null, null)\n        return\n      }\n\n      this.searchExpanded = false\n      this.onLocation([\n        place.geometry.location.lat(),\n        place.geometry.location.lng()\n      ])\n    })\n  },\n\n  methods: {\n    locate() {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(pos => {\n          this.onLocation([pos.coords.latitude, pos.coords.longitude])\n        })\n      }\n    },\n\n    toggleSearch() {\n      this.searchExpanded ^= true\n      this.$refs.searchInput.focus()\n    },\n\n    keypressSearch(e) {\n      alert(JSON.stringify(e))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.location-control a i {\n  color: #111;\n  font-size: 18px;\n}\n\n.location-control .search {\n  display: flex;\n  align-items: center;\n\n  a {\n    border: 0 !important;\n  }\n\n  .autocomplete {\n    transition: width .25s;\n    height: 30px;\n    width: 0;\n    padding: 0;\n    border: 0 none;\n  }\n}\n\n.location-control .search.active .autocomplete {\n  width: 300px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocationControl.vue?vue&type=template&id=58e9f847&\"\nimport script from \"./LocationControl.vue?vue&type=script&lang=js&\"\nexport * from \"./LocationControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LocationControl.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"LocationControl.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"layers\"},[_c('h3',[_vm._v(\"Couches\")]),_c('div',{staticClass:\"buttons\"},_vm._l((_vm.layers),function(layer){return (!layer.hidden)?_c('a',{class:{ active: _vm.value == layer },on:{\"click\":function($event){$event.preventDefault();_vm.select(layer)}}},[_c('span',{staticClass:\"icon\",domProps:{\"innerHTML\":_vm._s(layer.icon)}}),_c('span',[_vm._v(_vm._s(layer.name))]),(!layer.loaded)?_c('div',{staticClass:\"loader-tile-grid\"},[_c('div',{staticClass:\"loader-tile loader-tile1\"}),_c('div',{staticClass:\"loader-tile loader-tile2\"}),_c('div',{staticClass:\"loader-tile loader-tile3\"}),_c('div',{staticClass:\"loader-tile loader-tile4\"}),_c('div',{staticClass:\"loader-tile loader-tile5\"}),_c('div',{staticClass:\"loader-tile loader-tile6\"}),_c('div',{staticClass:\"loader-tile loader-tile7\"}),_c('div',{staticClass:\"loader-tile loader-tile8\"}),_c('div',{staticClass:\"loader-tile loader-tile9\"})]):_vm._e()]):_vm._e()}))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"layers\">\n    <h3>Couches</h3>\n\n    <div class=\"buttons\">\n      <a v-for=\"layer in layers\"\n        v-if=\"!layer.hidden\"\n        :class=\"{ active: value == layer }\"\n        @click.prevent=\"select(layer)\">\n        <span class=\"icon\" v-html=\"layer.icon\"></span>\n        <span>{{ layer.name }}</span>\n\n        <div v-if=\"!layer.loaded\" class=\"loader-tile-grid\">\n          <div class=\"loader-tile loader-tile1\"></div>\n          <div class=\"loader-tile loader-tile2\"></div>\n          <div class=\"loader-tile loader-tile3\"></div>\n          <div class=\"loader-tile loader-tile4\"></div>\n          <div class=\"loader-tile loader-tile5\"></div>\n          <div class=\"loader-tile loader-tile6\"></div>\n          <div class=\"loader-tile loader-tile7\"></div>\n          <div class=\"loader-tile loader-tile8\"></div>\n          <div class=\"loader-tile loader-tile9\"></div>\n        </div>\n      </a>\n    </div>\n  </section>\n</template>\n\n<script>\n\nexport default {\n  props: ['layers', 'value'],\n\n  methods: {\n    select(layer) {\n      if (!layer.loading) {\n        this.$emit('input', layer)\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.layers {\n  max-height: 600px;\n  height: 80%;\n  width: 80px;\n  border: 1px solid #bbb;\n  box-shadow: 0 0 3px rgba(#000, .2);\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n}\n\n.layers h3, .layers a {\n  text-transform: uppercase;\n}\n\n.layers h3 {\n  width: 100%;\n  margin: 0;\n  padding: 7px 0;\n  color: #666;\n  font-size: 11pt;\n  font-weight: normal;\n  text-align: center;\n}\n\n.layers .buttons {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.layers a {\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  cursor: pointer;\n\n  height: 80px;\n  text-decoration: none;\n  border-bottom: 1px solid #bbb;\n  color: #333;\n  font-size: 10pt;\n\n  &.active {\n    background: #f3f3f3;\n    box-shadow: inset 0 0 2px rgba(0, 0, 0, .1);\n  }\n\n  &:first-child {\n    border-top: 1px solid #bbb;\n  }\n\n  .icon {\n    font-size: 1rem;\n    margin-bottom: 3px;\n  }\n}\n\n// Source: http://tobiasahlin.com/spinkit/\n.loader-tile-grid {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  cursor: not-allowed;\n}\n\n.loader-tile-grid .loader-tile {\n  width: 33%;\n  height: 33%;\n  background-color: #fff;\n  float: left;\n\n  animation: loader-tileGridScaleDelay 1.3s infinite ease-in-out;\n}\n\n.loader-tile-grid .loader-tile1 { animation-delay: 0.2s; }\n.loader-tile-grid .loader-tile2 { animation-delay: 0.3s; }\n.loader-tile-grid .loader-tile3 { animation-delay: 0.4s; }\n.loader-tile-grid .loader-tile4 { animation-delay: 0.1s; }\n.loader-tile-grid .loader-tile5 { animation-delay: 0.2s; }\n.loader-tile-grid .loader-tile6 { animation-delay: 0.3s; }\n.loader-tile-grid .loader-tile7 { animation-delay: 0s; }\n.loader-tile-grid .loader-tile8 { animation-delay: 0.1s; }\n.loader-tile-grid .loader-tile9 { animation-delay: 0.2s; }\n\n@keyframes loader-tileGridScaleDelay {\n  0%, 70%, 100% {\n    transform: scale3D(1, 1, 1);\n  } 35% {\n    transform: scale3D(0, 0, 1);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layers.vue?vue&type=template&id=ee72e908&\"\nimport script from \"./Layers.vue?vue&type=script&lang=js&\"\nexport * from \"./Layers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Layers.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{ref:\"map\",staticClass:\"map\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Config from './config.json'\n\nvar urlAzote = 'data/n_export.json'\nvar urlPhosphore = 'data/p_export.json'\n\nconst MAP_TILES = 'https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png'\nconst MAP_ATTRIB = '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n//TODO: use geojsons to compute defautl viewport, will work better if changed in the future by NatCap\n/**\n * Creates a Leaflet map of the Paris area and returns it.\n */\nfunction createMap(element, initialBounds) {\n  const map = L.map(element, {\n    zoomControl: false\n  })\n  map.fitBounds(initialBounds)\n\n  const base = L.tileLayer(MAP_TILES, {\n    minZoom: 9,\n    maxZoom: 14, // Toner Light won't zoom further than 14.\n    attribution: MAP_ATTRIB\n  })\n\n  base.addTo(map)\n  return map\n}\n\n/**\n * Loads a JSON containment file and parses it.\n */\nfunction loadContainmentFile(url) {\n  return fetch(url)\n    .then(res => res.json())\n    .then(json => {\n      json.data = JSON.parse(json.data)\n      return json\n    })\n}\n\nexport default function(element, EV_svg_element, EV_circle_svg_element, error, interComm_shape, voronoi_shape, onHistChange, onSchools) {\n  var current_geoLat = null;\n  var current_geoLong = null;\n\n  console.log(element)\n  const default_tl = new L.LatLng(\n    Config.viewport.topLatitude,\n    Config.viewport.leftLongitude\n  )\n  const default_br = new L.LatLng(\n    Config.viewport.bottomLatitude,\n    Config.viewport.rightLongitude\n  )\n  const initialBounds = L.latLngBounds(default_tl, default_br)\n\n  /**\n   * Returns whether a given point is within the Paris region.\n   */\n  function isWithinParis(point) {\n    return interComm_shape.features.some(s => d3.geoContains(s, point))\n  }\n\n  /**\n   * Sets the position of the geolocation marker.\n   */\n  function setLocation(lat, lng) {\n    if (!lat || !lng || !isWithinParis([lng, lat])) {\n      lat = null\n      lng = null\n      map.fitBounds(initialBounds)\n    } else {\n      map.panTo(new L.LatLng(lat, lng))\n      map.setZoom(11)\n    }\n\n    current_geoLat = lat\n    current_geoLong = lng\n    updateMarker()\n  }\n\n  /**\n   * Updates the marker element on the map with the right coordinates.\n   */\n  function updateMarker() {\n    if (current_geoLat && current_geoLong) {\n      const point = map.latLngToLayerPoint([current_geoLat, current_geoLong])\n      const x = point.x - markerIcon.iconAnchor[0]\n      const y = point.y - markerIcon.iconAnchor[1]\n      markerElement.attr('visibility', 'visible')\n      markerElement.attr('transform', `translate(${x}, ${y})`)\n    } else {\n      markerElement.attr('visibility', 'hidden')\n    }\n  }\n\n  /**\n   * Sets the position of the geolocation marker to the current position\n   * of the user (computed using the Geolocation API).\n   */\n  function setLocationFromCurrent() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => {\n        setLocation(pos.coords.latitude, pos.coords.longitude)\n      })\n    }\n  }\n\n  setLocationFromCurrent()\n\n  const map = createMap(element, initialBounds) //TODO: if the window is small, the zoom is too far (> 14) and the map is grey, untill we zoom in\n\n  function blankStyle(feature) {\n    return {\n      opacity: 0,\n      fillOpacity: 0\n    };\n  }\n  L.geoJson(interComm_shape, {\n    style: blankStyle\n  }).addTo(map); //needed! otherwise a svg isn't generated, we use this one for practical purposes\n\n  /*d3.select(element).on(\"mousemove\",function(){\n    if (d3.event && d3.event.clientX && d3.event.clientY){\n      //console.log(d3.event)\n      update_EV_preview(d3.event.layerX,d3.event.layerY)\n    }\n  })*/\n  var svg = d3.select(element).select(\".leaflet-zoom-animated\")\n\n  function projectPoint(x, y) {\n    var point = map.latLngToLayerPoint(new L.LatLng(y, x));\n    this.stream.point(point.x, point.y);\n  }\n  var transform = d3.geo.transform({\n    point: projectPoint\n  });\n  var path = d3.geo.path()\n    .projection(transform);\n  var defs = svg.append(\"defs\");\n  var defs_path = defs.append(\"path\")\n    .attr(\"id\", \"clip_path\")\n  defs.append(\"clipPath\")\n    .attr(\"id\", \"clip\")\n    .append(\"use\")\n    .attr(\"xlink:href\", \"#clip_path\");\n  var imgs = svg.selectAll(\"image\").data([0])\n    .enter()\n    .append(\"svg:image\")\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr(\"xlink:href\", \"\")\n    .attr(\"clip-path\", \"\")\n\n  function update_clip() {\n\n    function clip_projectPoint(x, y) {\n\n      var default_tl_point = map.latLngToLayerPoint([cachedLayers[currentLayerPath].tl_lat, cachedLayers[currentLayerPath].tl_lng])\n      var default_br_point = map.latLngToLayerPoint([cachedLayers[currentLayerPath].br_lat, cachedLayers[currentLayerPath].br_lng])\n\n      var width = (default_br_point.x - default_tl_point.x)\n      var height = (default_br_point.y - default_tl_point.y)\n\n      var point = map.latLngToLayerPoint(L.latLng(y, x))\n\n      var tx = (point.x - default_tl_point.x) / (default_br_point.x - default_tl_point.x) * (width - 1)\n      var ty = (point.y - default_tl_point.y) / (default_br_point.y - default_tl_point.y) * (height - 1)\n\n      this.stream.point(tx, ty);\n    }\n\n    var clip_transform = d3.geo.transform({\n      point: clip_projectPoint\n    });\n    var clip_path = d3.geo.path()\n      .projection(clip_transform);\n    defs_path.attr(\"d\", clip_path)\n  }\n\n\n  var emptyOpacity = 0\n  var fadedOpacity = 0.4\n  var semiFullOpacity = 0.7\n  var fullOpacity = 1\n  var currentLayerPath = \"\"\n\n  var svg_EV = d3.select(EV_svg_element)\n    .attr(\"style\",\"display:none;\")\n  var svg_circle_EV = d3.select(EV_circle_svg_element)\n    .attr(\"style\",\"display:none;\")\n\n  var imgs_EV = svg_EV.selectAll(\"image\").data([0])\n    .enter()\n    .append(\"svg:image\")\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr(\"xlink:href\", \"\")\n\n  var shape_EV = svg_EV.append(\"g\")\n  shape_EV\n    .selectAll(\"path\")\n    .data([interComm_shape.features[0]])\n    .enter().append('path')\n    .attr('vector-effect', 'non-scaling-stroke')\n    .style('stroke', \"#000\")\n    .style(\"fill-opacity\", 0)\n    .style(\"stroke-opacity\", 1)\n\n\n  function update_EV_preview(mouseX,mouseY){\n\n    var layer_path = Config.EV_path\n    if (!cachedLayers[Config.EV_path]){\n      return\n    }\n\n    var svg_width = parseInt(svg_EV.style(\"width\").replace(\"px\",\"\"))\n    var svg_height = parseInt(svg_EV.style(\"height\").replace(\"px\",\"\"))\n\n    console.log(mouseX,mouseY)\n    svg_EV.attr(\"style\",\"top:\"+(mouseY - svg_height - 30)+\"; left:\"+(mouseX - svg_width/2)+\"; display:'';\")\n    svg_circle_EV.attr(\"style\",\"top:\"+(mouseY - svg_height/2)+\"; left:\"+(mouseX - svg_width/2)+\"; display:'';\")\n\n\n    var tl = L.latLng(cachedLayers[layer_path].tl_lat,cachedLayers[layer_path].tl_lng)\n    var br = L.latLng(cachedLayers[layer_path].br_lat,cachedLayers[layer_path].br_lng)\n\n    var tl_pixels = map.latLngToContainerPoint(tl)\n    var br_pixels = map.latLngToContainerPoint(br)\n\n    var image_width = (map.latLngToLayerPoint(br).x - map.latLngToLayerPoint(tl).x)\n    var image_height = (map.latLngToLayerPoint(br).y - map.latLngToLayerPoint(tl).y)\n\n    imgs_EV.attr('width', image_width)\n    imgs_EV.attr('height', image_height)\n\n    imgs_EV.attr(\"transform\",\n      function(d) {\n        return \"translate(\" +\n          (+ tl_pixels.x - mouseX + svg_width/2) + \",\" +\n          (+ tl_pixels.y - mouseY + svg_height/2) + \")\";\n      }\n    )\n  }\n\n  var voronoi = svg.append(\"g\").selectAll(\"path\")\n    .data(voronoi_shape.features)\n    .enter().append('path')\n    .attr('d', path)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .style('stroke', \"#666\")\n    .style(\"fill-opacity\", emptyOpacity)\n    .style(\"stroke-opacity\", emptyOpacity)\n    .on(\"mouseover\", function(d, i) {\n      d3.select(this).style('fill-opacity', emptyOpacity);\n      defs_path.datum(d.geometry)\n      update_clip()\n      update_chart(i, currentLayerPath, true)\n      update_text_school(i, currentLayerPath, true)\n    })\n    .on(\"mouseout\", function(d, i) {\n      if (highlightedInterComm != -1) {\n        d3.select(this).style('fill-opacity', oneIfInInterComm(highlightedInterComm)(d, i));\n        d3.select(this).style('stroke-opacity', oneIfInInterComm(highlightedInterComm)(d, i));\n      }\n\n      defs_path.datum([])\n      update_clip()\n      svg_EV.attr(\"style\",\"display:none;\")\n      svg_circle_EV.attr(\"style\",\"display:none;\")\n    })\n    .on(\"click\", function(d, i) {\n      interComms.style(\"pointer-events\", \"all\")\n      map.fitBounds(initialBounds) // zoom back to paris\n      highlightedInterComm = -1\n      interComms.style(\"fill-opacity\", fullOpacity)\n      voronoi.style(\"fill-opacity\", emptyOpacity)\n      voronoi.style(\"stroke-opacity\", emptyOpacity)\n\n      defs_path.datum([])\n      update_clip()\n      svg_EV.attr(\"style\",\"display:none;\")\n      svg_circle_EV.attr(\"style\",\"display:none;\")\n    })\n    .on(\"mousemove\",function(){\n      if (d3.event && d3.event.clientX && d3.event.clientY){\n        update_EV_preview(d3.event.layerX,d3.event.layerY)\n      }\n      else{\n        svg_EV.attr(\"style\",\"display:none;\")\n        svg_circle_EV.attr(\"style\",\"display:none;\")\n      }\n    })\n\n  var highlightedInterComm = -1\n\n  function oneIfInInterComm(interCommIndex) {\n    function oneIfInInterComm_(p, j) {\n      if (firstVoronoiByInterComm[interCommIndex] <= j && (interCommIndex == interComm_shape.features.length - 1 || firstVoronoiByInterComm[interCommIndex + 1] > j)) {\n        return 1\n      } else {\n        return 0\n      }\n    }\n    return oneIfInInterComm_\n  }\n  var interComms = svg.append(\"g\").selectAll(\"path\")\n    .data(interComm_shape.features)\n    .enter().append('path')\n    .attr('d', path)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .style('stroke', \"#333\")\n    .attr(\"fill\", \"#fff\")\n    .attr(\"fill-opacity\", fullOpacity)\n    .style(\"pointer-events\", \"all\")\n    .on(\"mouseover\", function(d, i) {\n      if (highlightedInterComm != -1) {\n        if (i != highlightedInterComm) {\n          d3.select(this).style('fill-opacity', fullOpacity);\n        } else {\n          d3.select(this).style('fill-opacity', emptyOpacity);\n        }\n      } else {\n        d3.select(this).style('fill-opacity', fadedOpacity);\n      }\n      //console.log(i)\n      update_chart(i, currentLayerPath, false)\n      update_text_school(i, currentLayerPath, false)\n    })\n    .on(\"mouseout\", function(d, i) {\n      if (highlightedInterComm != -1) {\n        if (i == highlightedInterComm) {\n          d3.select(this).style('fill-opacity', emptyOpacity);\n        } else {\n          d3.select(this).style('fill-opacity', fadedOpacity);\n        }\n      } else {\n        d3.select(this).style('fill-opacity', fullOpacity);\n      }\n      svg_EV.attr(\"style\",\"display:none;\")\n      svg_circle_EV.attr(\"style\",\"display:none;\")\n    })\n    .on(\"click\", function(d, i) {\n      interComms.style(\"pointer-events\", \"all\") // now we can click/hover on every department\n      d3.select(this).style(\"pointer-events\", \"none\") // except the current one!\n\n      interComms.style(\"fill-opacity\", fadedOpacity) //same here, show every intercomm except this one\n      d3.select(this).style('fill-opacity', emptyOpacity);\n      highlightedInterComm = i\n\n\n      voronoi.style(\"fill-opacity\", oneIfInInterComm(i))\n      voronoi.style(\"stroke-opacity\", oneIfInInterComm(i))\n\n      var BBox = d3.select(this).node().getBBox()\n      var neBound = map.layerPointToLatLng(L.point(BBox.x, BBox.y))\n      var swBound = map.layerPointToLatLng(L.point(BBox.x + BBox.width, BBox.y + BBox.height))\n      map.fitBounds(L.latLngBounds(neBound, swBound)) // zoom to department\n      svg_EV.attr(\"style\",\"display:none;\")\n      svg_circle_EV.attr(\"style\",\"display:none;\")\n    })\n    .on(\"mousemove\",function(){\n      if (d3.event && d3.event.clientX && d3.event.clientY){\n        //console.log(d3.event)\n        update_EV_preview(d3.event.layerX,d3.event.layerY)\n      }\n      else{\n        svg_EV.attr(\"style\",\"display:none;\")\n        svg_circle_EV.attr(\"style\",\"display:none;\")\n      }\n    })\n\n  const markerIcon = {\n    iconUrl: 'assets/marker.png',\n    iconSize: [24, 24],\n    iconAnchor: [12, 24]\n  }\n\n  let markerElement = svg.append(\"g\").selectAll(\"image\").data([0])\n    .enter()\n    .append(\"svg:image\")\n    .attr(\"xlink:href\", markerIcon.iconUrl)\n    .attr(\"width\", markerIcon.iconSize[0])\n    .attr(\"height\", markerIcon.iconSize[1])\n    .attr('visibility', 'hidden')\n    .style(\"pointer-events\", \"none\")\n\n  var canvas = document.createElement(\"canvas\")\n  var context = canvas.getContext('2d');\n\n  var update_parameters = {\n    hide: true,\n  };\n\n  function update_chart(i, layerURL, voro) {\n    var info = cachedLayers[layerURL]\n    if (!info) {\n      return;\n    }\n    if (voro == true) {\n      var data = info.voronoi_hist[i]\n    } else {\n      var data = info.interComm_hist[i]\n    }\n\n    data[0]=0 // ignore 0 values\n    onHistChange([...Array(256).keys()],data)\n\n    // [...Array(255).keys()] == [0,1,2,...,255]\n  }\n  \n  function update_text_school(i, layerURL, voro){\n      if(layerURL==Config.Urban_cooling){\n          var info = cachedLayers[Config.Ecole_path]\n            if (!info) {\n                return;\n            }\n            if (voro == true) {\n              var data = info.voronoi_hist[i]\n            } else {\n              var data = info.interComm_hist[i]\n            }\n            //onSchools(data)\n            // change texte according to data \n      }\n      else{\n          //onSchools(null)\n      }\n      \n  }\n\n\n  function update() {//add here everything that could potentially change\n    if (update_parameters.hide) {\n      console.log('hidden!')\n      interComms.attr('visibility', 'hidden')\n      voronoi.attr('visibility', 'hidden')\n      imgs.attr('visibility', 'hidden')\n      imgs_EV.attr('visibility', 'hidden')\n      return;\n    } else {\n      interComms.attr('visibility', 'visible')\n      voronoi.attr('visibility', 'visible')\n      imgs.attr('visibility', 'visible')\n      imgs_EV.attr('visibility', 'visible')\n    }\n\n    var tl = update_parameters.tl\n    var br = update_parameters.br\n\n    console.log('UPDATING')\n    var width = (map.latLngToLayerPoint(br).x - map.latLngToLayerPoint(tl).x)\n    var height = (map.latLngToLayerPoint(br).y - map.latLngToLayerPoint(tl).y)\n    imgs.attr(\"transform\",\n      function(d) {\n        var point = map.latLngToLayerPoint(tl)\n        return \"translate(\" +\n          point.x + \",\" +\n          point.y + \")\";\n      }\n    )\n\n    imgs.attr('width', width)\n    imgs.attr('height', height)\n    interComms.attr(\"d\", path)\n    voronoi.attr(\"d\", path)\n    update_clip()\n    updateMarker()\n    svg_EV.attr(\"style\",\"display:none;\")\n    svg_circle_EV.attr(\"style\",\"display:none;\")\n  }\n\n  map.on('viewreset', update)\n\n  var firstVoronoiByInterComm = []\n\n  var cachedLayers = {} //placehoder for the layers, to compute them only once\n\n  /**\n   * Loads, pre-processes and caches the layer with the given path.\n   * This includes:\n   * - Fetching the layer's JSON data;\n   * - Fetching containment files.\n   * - Preparing arrays for means, counts and histograms.\n   * - Dispatching those computations to worker threads.\n   */\n  function loadLayer(path, colors, callback) {\n    if (cachedLayers[path]) {\n      callback();\n      return;\n    }\n    var color_low = colors[0]\n    var color_high = colors[1]\n\n    fetch(path)\n      .then(res => res.json())\n      .then(json => {\n        json.data = JSON.parse(json.data)\n        json.percentiles = JSON.parse(json.percentiles)\n\n        var pixels = json.data;\n\n        canvas.width = json.width\n        canvas.height = json.height\n\n        var tempContext = canvas.getContext(\"2d\");\n        tempContext.createImageData(canvas.width, canvas.height);\n\n        var len = canvas.height * canvas.width;\n        var workersCount = 1;\n        var finished = 0;\n        var segmentLength = len / workersCount;\n        var blockSize = canvas.height / workersCount;\n\n        //initalize means and counts arrays\n        var voronoi_means = []\n        var voronoi_counts = []\n        var voronoi_hist = {}\n\n        for (var i = 0; i < voronoi_shape.features.length; ++i) {\n          voronoi_counts[i] = 0\n          voronoi_means[i] = 0\n          voronoi_hist[i] = []\n          for (var j=0; j<256; ++j){\n            voronoi_hist[i][j]=0\n          }\n        }\n\n        var interComm_means = []\n        var interComm_counts = []\n        var interComm_hist = {}\n\n        for (var i = 0; i < interComm_shape.features.length; ++i) {\n          interComm_counts[i] = 0\n          interComm_means[i] = 0\n          interComm_hist[i] = []\n          for (var j=0; j<256; ++j){\n            interComm_hist[i][j]=0\n          }\n        }\n\n        firstVoronoiByInterComm = []\n        for (var i = 0; i < interComm_shape.features.length; ++i) {\n          firstVoronoiByInterComm[i] = 10000 //bigger than the max, ~670\n        }\n\n        // Return a promise.\n        var onWorkEnded = function(e) {\n          var canvasData = e.data.result;\n          var index = e.data.index;\n\n          var interComm_counts_portion = e.data.interComm_counts\n          var interComm_means_portion = e.data.interComm_means\n          var voronoi_counts_portion = e.data.voronoi_counts\n          var voronoi_means_portion = e.data.voronoi_means\n          var firstVoronoiByInterCommPortion = e.data.firstVoronoiByInterComm\n          var voronoi_hist_portion = e.data.voronoi_hist\n          var interComm_hist_portion = e.data.interComm_hist\n\n          for (var i = 0; i < voronoi_shape.features.length; ++i) {\n            voronoi_counts[i] += voronoi_counts_portion[i]\n            voronoi_means[i] += voronoi_means_portion[i]\n\n            for (var j=0; j<256; ++j){\n              voronoi_hist[i][j] += voronoi_hist_portion[i][j]\n            }\n          }\n\n          for (var i = 0; i < interComm_shape.features.length; ++i) {\n            interComm_counts[i] += interComm_counts_portion[i]\n            interComm_means[i] += interComm_means_portion[i]\n\n            for (var j=0; j<256; ++j){\n              interComm_hist[i][j] += interComm_hist_portion[i][j]\n            }\n            \n\n            if (firstVoronoiByInterComm[i] > firstVoronoiByInterCommPortion[i]) {\n              firstVoronoiByInterComm[i] = firstVoronoiByInterCommPortion[i]\n            }\n          }\n\n          tempContext.putImageData(canvasData, 0, blockSize * index);\n          finished++;\n\n          if (finished == workersCount) {\n              if(path == Config.Ecole_path){\n                  // Here we count the number of schools\n                    for (var i = 0; i < voronoi_shape.features.length; ++i) {\n                        voronoi_means[i] /= 255\n                    }\n                    for (var i = 0; i < interComm_shape.features.length; ++i) {\n                        interComm_means[i] /= 255\n                    }\n                }\n              else{\n                    for (var i = 0; i < voronoi_shape.features.length; ++i) {\n                      if (voronoi_counts[i] != 0) {\n                        voronoi_means[i] /= voronoi_counts[i]\n                      }\n                    }\n                    for (var i = 0; i < interComm_shape.features.length; ++i) {\n                      if (interComm_counts[i] != 0) {\n                        interComm_means[i] /= interComm_counts[i]\n                      }\n                    }\n                }\n                \n            var hist_buckets = [70, 140]; //TODO: change acodring to layer (hard-coded...)\n\n            var value = canvas.toDataURL(\"png\");\n            //imgs.attr(\"xlink:href\", value)\n            \n            cachedLayers[path] = {\n              \"url\": value,\n              \"tl_lat\": json.tl_lat,\n              \"tl_lng\": json.tl_lng,\n              \"br_lat\": json.br_lat,\n              \"br_lng\": json.br_lng,\n              \"width\": canvas.width,\n              \"height\": canvas.height,\n              \"voronoi_means\": voronoi_means,\n              \"interComm_means\": interComm_means,\n              \"voronoi_hist\": voronoi_hist,\n              \"interComm_hist\": interComm_hist,\n              \"hist_buckets\": hist_buckets,\n              \"percentiles\" : json.percentiles,\n              \"layerUrl\": path\n            }\n\n            callback();\n          }\n        };\n\n        // FIXME(liautaud): Nested callbacks is a code smell.\n        // FIXME(liautaud): This should be done only once.\n\n        var domain_range = computeColorRange(json.percentiles,colors)\n        var domain = domain_range[0]\n        var range = domain_range[1]\n        loadContainmentFile(\"data/voronoi_cont.json\").then(voronoiContainment => {\n          loadContainmentFile(\"data/intercomm_cont.json\").then(interCommContainment => {\n            for (var index = 0; index < workersCount; index++) {\n              var worker = new Worker(\"assets/pictureProcessor.js\");\n              worker.onmessage = onWorkEnded;\n              var canvasData = tempContext.getImageData(0, blockSize * index, canvas.width, blockSize);\n              worker.postMessage({\n                canvasData: canvasData,\n                pixels: pixels,\n                index: index,\n                length: segmentLength,\n                width: canvas.width,\n                height: canvas.height,\n                voronoiContainmentData: voronoiContainment.data,\n                interCommContainmentData: interCommContainment.data,\n                numVoronois: voronoi_shape.features.length,\n                numInterComms: interComm_shape.features.length,\n                tl_lat: json.tl_lat,\n                tl_lng: json.tl_lng,\n                br_lat: json.br_lat,\n                br_lng: json.br_lng,\n                colorDomain: domain,\n                colorRange: range\n              });\n            }\n          })\n        })\n      })\n\n    // TODO(liautaud): Return a Promise.\n  }\n\n  function setEVLayer(path){\n    imgs_EV.attr(\"xlink:href\", cachedLayers[Config.EV_path].url)\n  }\n\n  function computeColorRange(percentiles,colors){\n    var domain_percentiles = percentiles.slice()\n    domain_percentiles.unshift(0)\n    domain_percentiles.push(255)\n\n    var domainLength = domain_percentiles.length\n    var rangeLength  = colors.length\n\n    var intermediateDomain = []\n    for (var i=0; i<rangeLength; ++i){\n      intermediateDomain[i] = i/(rangeLength-1)\n    }\n    var intermediateScale = d3.scale.linear().domain(intermediateDomain).range(colors)\n\n    var range_out = []\n    for (var i=0; i<domainLength; ++i){\n      var t = i/(domainLength-1)\n      range_out.push(intermediateScale(t))\n    }\n    return [domain_percentiles,range_out]\n  }\n\n  /**\n   * Changes the current layer to the one with a given path.\n   */\n  function setLayer(path, colors) {\n    if (!path) {\n      update_parameters.hide = true\n      update()\n      return;\n    }\n\n    loadLayer(path,colors,() => {\n      if (path == Config.EV_path){ //TODO: add parameter \"AlwaysShowLayer\" in config?\n        imgs.attr(\"clip-path\", \"\")\n      }\n      else{\n        imgs.attr(\"clip-path\", \"url(#clip)\")\n      }\n      // Once the layer is loaded, we can get it from the cache.\n      const layer = cachedLayers[path]\n\n      var min = 0\n      var max = 255\n\n      var domain_range =computeColorRange(layer.percentiles,colors)\n      var domain = domain_range[0]\n      var range = domain_range[1]\n\n      const colorScale = d3.scale.linear()\n        .range(range).domain(domain)\n      voronoi.attr('fill', (_, i) =>{\n        //console.log(layer.voronoi_means[i],colorScale(layer.voronoi_means[i]))\n        if (path == Config.EV_path){\n          return \"#00000022\" //transparent\n        }\n        return colorScale(layer.voronoi_means[i])})\n\n      min = 0//Math.min(...layer.interComm_means)\n      max = 255//Math.max(...layer.interComm_means)\n\n      interComms.attr('fill', (_, i) =>{\n        //console.log(layer.interComm_means[i],colorScale(layer.interComm_means[i]))\n        if (path == Config.EV_path){\n          return \"#00000022\" //transparent\n        }\n        return colorScale(layer.interComm_means[i])})\n\n\n      // Reset the width and height of the canvas.\n      canvas.width = layer.width\n      canvas.height = layer.height\n\n      // Update the bounding box and current coordinates.\n      update_parameters.hide = false\n      update_parameters.tl = new L.LatLng(layer.tl_lat, layer.tl_lng)\n      update_parameters.br = new L.LatLng(layer.br_lat, layer.br_lng)\n      update_parameters.current_geoLat = current_geoLat\n      update_parameters.current_geoLong = current_geoLong\n\n      update()\n      currentLayerPath = path\n      imgs.attr('xlink:href', layer.url)\n    })\n  }\n\n  return [loadLayer, setLayer, setLocation, setEVLayer]\n}","<template>\n  <section ref=\"map\" class=\"map\">\n  </section>\n</template>\n\n<script>\nimport Config from '../config.json'\nimport displayMap from '../map'\n\nexport default {\n  props: ['layers', 'currentLayer', 'currentLocation', 'onHist', 'appRefs', 'onSchools'],\n  data: () => ({\n    loadLayer: () => {},\n    setLayer: () => {},\n    setLocation: () => {},\n  }),\n\n  /**\n   * Triggers when the component has been mounted.\n   * This is used to create the Leaflet map and bind the event handlers.\n   */\n  mounted () {\n    var urlInterComm = 'data/intercommunalites.geojson'\n    var urlVoronoi = 'data/voronois.json'\n\n    queue()\n      .defer(d3.json, urlInterComm)\n      .defer(d3.json, urlVoronoi)\n      .await((e, d, v) => {\n        [this.loadLayer, this.setLayer, this.setLocation, this.setEVLayer, this.setTextUrban] =\n          displayMap(this.$refs.map,this.appRefs.svg,this.appRefs.circle_svg, e, d, v, (x, y) => this.onHist(x,y), this.onSchools)\n\n        Config.layers.forEach(layer => this.loadLayer(\n          layer.path,\n          layer.colors,\n          () => {\n            this.layers[layer.path].loaded = true\n            \n            if (layer.path == Config.EV_path){\n              this.setEVLayer(layer.path)\n            }          \n          }\n        ))\n\n        this.setLayer(this.currentLayer.path,this.currentLayer.colors)\n      })\n  },\n\n  watch: {\n    /**\n     * Watches changes to the currentLayer prop, and updates the map.\n     */\n    currentLayer(layer) {\n      this.setLayer(layer.path,layer.colors)\n    },\n\n    /**\n     * Watches changes to the currentLocation prop, and updates the marker.\n     */\n    currentLocation([lat, lng]) {\n      this.setLocation(lat, lng)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.map {\n  flex: 1;\n}\n\n.leaflet-overlay-pane {\n  mix-blend-mode: multiply;\n\n  image {\n    image-rendering: optimizespeed;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=5e9e3c44&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Map.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"sidebar\"},[(_vm.currentLayer && _vm.layers[_vm.currentLayer.path].loaded)?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.layers[_vm.currentLayer.path].title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.layers[_vm.currentLayer.path].content)}}),_c('Histogram',{attrs:{\"x\":_vm.currentHistogramX,\"y\":_vm.currentHistogramY}})],1):_c('div',{staticClass:\"split\"},[_vm._m(0),_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',[_c('h2',[_vm._v(\"Bienvenue sur EcoParis.\")]),_c('p',[_vm._v(\"EcoParis est une visualisation interactive des données cartographiques des services écosystémiques en territoires urbains et péri-urbains en région Ile-de-France issues du projet \"),_c('a',{attrs:{\"href\":\"https://idefese.wordpress.com/\"}},[_vm._v(\"IDEFESE\")]),_vm._v(\".\")]),_c('p',[_vm._v(\"Pour commencer, vous pouvez sélectionner une couche à afficher parmi des mesures de rétention \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"de phosphore\")]),_vm._v(\" et \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"d'azote\")]),_vm._v(\", des mesures de \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"réduction de la température\")]),_vm._v(\" due à la végétation ou encore de \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"valeur économique\")]),_vm._v(\" des régions.\")]),_c('p',[_vm._v(\"Vous pouvez aussi choisir d'afficher l'évolution estimée de ces mesures à l'horizon 2025 dans un scénario de changement climatique.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"about\"},[_c('p',[_vm._v(\"EcoParis a été conçu par des élèves du cours de \"),_c('a',{attrs:{\"href\":\"https://edu.epfl.ch/coursebook/en/data-visualization-COM-480\"}},[_vm._v(\"Data Visualization\")]),_vm._v(\" de l'EPFL, avec l'aide de Perrine Hamel du projet \"),_c('a',{attrs:{\"href\":\"https://naturalcapitalproject.stanford.edu/\"}},[_vm._v(\"Natural Capital Project\")]),_vm._v(\" de Stanford.\")]),_c('section',{staticClass:\"slideshow\"},[_c('a',{attrs:{\"href\":\"https://www.epfl.ch/\"}},[_c('img',{attrs:{\"src\":\"https://mediacom.epfl.ch/files/content/sites/mediacom/files/EPFL-Logo.jpg\",\"alt\":\"Logo EPFL\"}})]),_c('a',{attrs:{\"href\":\"https://naturalcapitalproject.stanford.edu/\"}},[_c('img',{attrs:{\"src\":\"https://idefese.files.wordpress.com/2018/11/image5.jpg?w=172&h=171\",\"alt\":\"Logo NatCap\"}})])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"graph\",staticClass:\"graph-box\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"graph\" class=\"graph-box\"></div>\n</template>\n\n<script>\n/**\n * Updates the Plotly plot according to this.data.\n */\nconst updatePlot = (that) =>{\n  Plotly.react(that.$refs.graph, [{\n    x: that.x,\n    y: that.y,\n    type: 'histogram',\n    histfunc: \"sum\",\n    xbins: {\n      end: 256, \n      size: 1, \n      start: 0\n    }\n  }], {\n    margin: {\n      l: 35,\n      r: 35,\n      t: 5,\n      b: 20,\n    },\n  }, {\n    displayModeBar: false,\n  })\n}\n\nexport default {\n  props: ['x','y'],\n\n  mounted() {\n    updatePlot(this)\n  },\n\n  watch: {\n    /**\n     * Watches changes to the data prop, and updates the histogram.\n     */\n    x() {\n      updatePlot(this)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.graph-box {\n  height: 300px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Histogram.vue?vue&type=template&id=1bee94a0&\"\nimport script from \"./Histogram.vue?vue&type=script&lang=js&\"\nexport * from \"./Histogram.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Histogram.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Histogram.vue\"\nexport default component.exports","<template>\n  <section class=\"sidebar\">\n    <div v-if=\"currentLayer && layers[currentLayer.path].loaded\">\n      <h2>{{ layers[currentLayer.path].title }}</h2>\n      <div v-html=\"layers[currentLayer.path].content\"></div>\n      <Histogram :x=\"currentHistogramX\"\n                 :y=\"currentHistogramY\"/>\n    </div>\n\n    <div v-else class=\"split\">\n      <article>\n        <h2>Bienvenue sur EcoParis.</h2>\n\n        <p>EcoParis est une visualisation interactive des données cartographiques des services écosystémiques en territoires urbains et péri-urbains en région Ile-de-France issues du projet <a href=\"https://idefese.wordpress.com/\">IDEFESE</a>.</p>\n\n        <p>Pour commencer, vous pouvez sélectionner une couche à afficher parmi des mesures de rétention <a href=\"#\">de phosphore</a> et <a href=\"#\">d'azote</a>, des mesures de <a href=\"#\">réduction de la température</a> due à la végétation ou encore de <a href=\"#\">valeur économique</a> des régions.</p>\n\n        <p>Vous pouvez aussi choisir d'afficher l'évolution estimée de ces mesures à l'horizon 2025 dans un scénario de changement climatique.</p>\n      </article>\n\n      <article class=\"about\">\n        <p>EcoParis a été conçu par des élèves du cours de <a href=\"https://edu.epfl.ch/coursebook/en/data-visualization-COM-480\">Data Visualization</a> de l'EPFL, avec l'aide de Perrine Hamel du projet <a href=\"https://naturalcapitalproject.stanford.edu/\">Natural Capital Project</a> de Stanford.</p>\n\n        <section class=\"slideshow\">\n          <a href=\"https://www.epfl.ch/\">\n            <img src=\"https://mediacom.epfl.ch/files/content/sites/mediacom/files/EPFL-Logo.jpg\" alt=\"Logo EPFL\">\n          </a>\n          <a href=\"https://naturalcapitalproject.stanford.edu/\">\n            <img src=\"https://idefese.files.wordpress.com/2018/11/image5.jpg?w=172&h=171\" alt=\"Logo NatCap\">\n          </a>\n        </section>\n      </article>\n    </div>\n  </section>\n</template>\n\n<script>\nimport Histogram from './Histogram.vue'\n\nexport default {\n  props: ['layers', 'currentLayer', 'currentHistogramX', 'currentHistogramY'],\n  components: { Histogram },\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n\n#espacesVerts {\n  height: 300px;\n  width: 100%;\n  margin-top: 25px;\n  margin-bottom: 5px;\n}\n.sidebar {\n  z-index: 500;\n  width: 450px;\n  max-width: 30%;\n  box-sizing: border-box;\n  padding: 40px;\n  text-align: justify;\n\n  background: #fff;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .3);\n  overflow: auto;\n}\n\n.sidebar .split {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.sidebar p {\n  margin: 30px 0;\n}\n\n.sidebar h2 {\n  margin-top: 0;\n}\n\n.sidebar .about {\n  font-style: italic;\n}\n\n.sidebar .slideshow {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  margin: 40px 0 20px;\n\n  a {\n    height: 90px;\n  }\n\n  img {\n    height: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=02bf65a5&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Sidebar.vue\"\nexport default component.exports","<template>\n  <div id=\"app\">\n    <transition name=\"fade\">\n      <Intro v-if=\"introVisible\" :onDismiss=\"() => introVisible = false\" />\n    </transition>\n\n    <section class=\"menu\">\n      <LocationControl\n        :onLocation=\"loc => this.currentLocation = loc\" />\n      <Layers\n        :layers=\"layers\"\n        v-model=\"currentLayer\" />\n      <ZoomControl />\n    </section>\n    <section class=\"container\">\n      <Map\n        :layers=\"layers\"\n        :currentLayer=\"currentLayer\"\n        :currentLocation=\"currentLocation\"\n        :onHist=\"(x,y) => {this.currentHistogramX = x; this.currentHistogramY = y;}\" \n        :appRefs=\"this.$refs\"/>\n      <svg ref=\"circle_svg\" class=\"EV-circle-svg\"></svg> \n      <svg ref=\"svg\" class=\"EV-svg\"></svg> \n      <Sidebar\n        :layers=\"layers\"\n        :currentLayer=\"currentLayer\"\n        :currentHistogramX=\"currentHistogramX\"\n        :currentHistogramY=\"currentHistogramY\" />\n    </section>\n  </div>\n</template>\n\n<script>\nimport Config from './config.json'\n\nimport Intro from './components/Intro.vue'\nimport ZoomControl from './components/ZoomControl.vue'\nimport LocationControl from './components/LocationControl.vue'\nimport Layers from './components/Layers.vue'\nimport Map from './components/Map.vue'\nimport Sidebar from './components/Sidebar.vue'\n\nvar defaultLayer = null\n\nfor (var i=0; i<Config.layers.length; ++i){\n  if (Config.layers[i].path == Config.EV_path){\n    defaultLayer = Config.layers[i]\n  }\n}\nexport default {\n  data: () => ({\n    layers: Config.layers.reduce((m, layer) => {\n      m[layer.path] = layer\n      m[layer.path].loaded = false\n      return m\n    }, {}),\n\n    // currentLayer: 'data/p_export.json',\n    currentLayer: defaultLayer,\n    currentLocation: null,\n    currentHistogramX: null,\n    currentHistogramY: null,\n    introVisible: true,\n    sidebarVisible: false,\n  }),\n\n  components: { Intro, ZoomControl, LocationControl, Layers, Map, Sidebar }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\nhtml, body {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  font-size: 15pt;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  font-family: 'IBM Plex Sans', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\nh2 {\n  font-size: 1.2rem;\n}\n\np {\n  font-family: 'Crimson Text', serif;\n}\n\n.button {\n  text-decoration: none;\n  margin: 1.2rem;\n  font-size: 14pt;\n  padding: 9px 13px;\n  border: 1px solid #fff;\n  color: #fff;\n  text-transform: uppercase;\n  font-weight: 300;\n  transition: padding .2s;\n  position: relative;\n  outline: none;\n\n  &:hover {\n    padding: 9px 16px;\n  }\n\n  &.accent {\n    background: rgba(#fff, .2);\n  }\n}\n\n.menu {\n  z-index: 500;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 50px;\n  display: flex;\n  flex-direction: column;\n\n  justify-content: center;\n}\n\n.container {\n  display: flex;\n  background: #000;\n  width: 100%;\n  height: 100%;\n}\n\n.zoom-control, .location-control {\n  height: 40px;\n  border: 1px solid #bbb;\n  box-shadow: 0 0 3px rgba(#000, .2);\n  background: #fff;\n  display: flex;\n  margin: 20px 0;\n  flex-basis: content;\n\n  a {\n    outline: none;\n    height: 40px;\n    width: 39px;\n    font-family: Courier New;\n    font-size: 18pt;\n    line-height: 40px;\n    text-align: center;\n    text-decoration: none;\n    color: #000;\n  }\n\n  a:first-child {\n    border-right: 1px solid #bbb;\n  }\n}\n\n.EV-svg {\n  border-radius:50%;\n  width:120px;\n  height:120px;\n  border: 1px solid #000;\n  position:absolute;\n  background-color: #fff;\n  display: flex;\n  pointer-events: none;\n}\n\n.EV-circle-svg {\n  border-radius:50%;\n  width:120px;\n  height:120px;\n  border: 1px solid #000;\n  position:absolute;\n  background-color: #fff0;\n  display: flex;\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0eca9a5c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}