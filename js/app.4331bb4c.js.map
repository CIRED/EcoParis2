{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Layers.vue?83df","webpack:///./src/App.vue?cdb2","webpack:///./src/components/Intro.vue?24ee","webpack:///src/components/Intro.vue","webpack:///./src/components/Intro.vue?21f1","webpack:///./src/components/Intro.vue","webpack:///./src/components/ZoomControl.vue?9c71","webpack:///src/components/ZoomControl.vue","webpack:///./src/components/ZoomControl.vue?b509","webpack:///./src/components/ZoomControl.vue?f0d9","webpack:///./src/components/LocationControl.vue?1f5c","webpack:///src/components/LocationControl.vue","webpack:///./src/components/LocationControl.vue?071a","webpack:///./src/components/LocationControl.vue","webpack:///./src/components/Layers.vue?3a6a","webpack:///src/components/Layers.vue","webpack:///./src/components/Layers.vue?1d7e","webpack:///./src/components/Layers.vue","webpack:///./src/components/Map.vue?0ac9","webpack:///./src/map.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue","webpack:///./src/components/Sidebar.vue?2d34","webpack:///./src/components/Histogram.vue?ac7b","webpack:///src/components/Histogram.vue","webpack:///./src/components/Histogram.vue?11b6","webpack:///./src/components/Histogram.vue","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?d975","webpack:///./src/components/Sidebar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?bcb1","webpack:///./src/components/Map.vue?357b","webpack:///./src/components/Intro.vue?6183","webpack:///./src/components/LocationControl.vue?9aba","webpack:///./src/components/ZoomControl.vue?bf9b","webpack:///./src/components/Histogram.vue?f3a7","webpack:///./src/components/Sidebar.vue?652c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Layers_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Layers_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_24275e81_render","this$1","this","_vm","_h","$createElement","_c","_self","attrs","id","onDismiss","introVisible","_e","staticClass","onLocation","loc","currentLocation","layers","model","callback","$$v","currentLayer","expression","onHist","h","currentHistogram","staticRenderFns","Introvue_type_template_id_8e00bca0_render","_m","_v","href","on","click","$event","preventDefault","Introvue_type_template_id_8e00bca0_staticRenderFns","src","Introvue_type_script_lang_js_","props","components_Introvue_type_script_lang_js_","component","componentNormalizer","options","__file","Intro","ZoomControlvue_type_template_id_5796146f_render","ZoomControlvue_type_template_id_5796146f_staticRenderFns","ZoomControlvue_type_script_lang_js_","components_ZoomControlvue_type_script_lang_js_","ZoomControl_component","ZoomControl","LocationControlvue_type_template_id_58e9f847_render","locate","class","search","active","searchExpanded","toggleSearch","ref","type","keyup","keyCode","LocationControlvue_type_template_id_58e9f847_staticRenderFns","LocationControlvue_type_script_lang_js_","mounted","_this","api","google","maps","places","Autocomplete","$refs","searchInput","setFields","setOptions","strictBounds","setBounds","north","config","viewport","topLatitude","south","bottomLatitude","west","leftLongitude","east","rightLongitude","addListener","place","getPlace","geometry","location","lat","lng","methods","_this2","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","focus","keypressSearch","e","alert","JSON","stringify","components_LocationControlvue_type_script_lang_js_","LocationControl_component","LocationControl","Layersvue_type_template_id_47b297da_render","_l","layer","path","select","domProps","innerHTML","_s","icon","loaded","Layersvue_type_template_id_47b297da_staticRenderFns","Layersvue_type_script_lang_js_","loading","$emit","components_Layersvue_type_script_lang_js_","Layers_component","Layers","Mapvue_type_template_id_ebcced14_render","Mapvue_type_template_id_ebcced14_staticRenderFns","MAP_TILES","MAP_ATTRIB","createMap","element","initialBounds","map","L","zoomControl","fitBounds","base","tileLayer","minZoom","maxZoom","attribution","addTo","loadContainmentFile","url","fetch","then","res","json","parse","src_map","error","interComm_shape","voronoi_shape","onHistChange","current_geoLat","current_geoLong","default_tl","LatLng","Config","default_br","latLngBounds","isWithinParis","point","features","some","d3","geoContains","setLocation","panTo","setZoom","updateMarker","latLngToLayerPoint","x","markerIcon","iconAnchor","y","markerElement","attr","concat","setLocationFromCurrent","blankStyle","feature","opacity","fillOpacity","geoJson","style","svg","projectPoint","stream","transform","geo","projection","defs","append","defs_path","imgs","selectAll","enter","update_clip","clip_projectPoint","default_tl_point","cachedLayers","currentLayerPath","tl_lat","tl_lng","default_br_point","br_lat","br_lng","width","height","latLng","tx","ty","clip_transform","clip_path","emptyOpacity","fadedOpacity","fullOpacity","voronoi","datum","update_chart","highlightedInterComm","oneIfInInterComm","interComms","interCommIndex","oneIfInInterComm_","firstVoronoiByInterComm","BBox","node","getBBox","neBound","layerPointToLatLng","swBound","iconUrl","iconSize","canvas","document","createElement","update_parameters","getContext","hide","layerURl","voro","info","voronoi_hist","interComm_hist","buckets","hist_buckets","forEach","update","console","log","tl","br","loadLayer","pixels","tempContext","createImageData","len","workersCount","finished","segmentLength","blockSize","voronoi_means","voronoi_counts","interComm_means","interComm_counts","onWorkEnded","canvasData","index","interComm_counts_portion","interComm_means_portion","voronoi_counts_portion","voronoi_means_portion","firstVoronoiByInterCommPortion","voronoi_hist_portion","interComm_hist_portion","putImageData","toDataURL","layerUrl","voronoiContainment","interCommContainment","worker","Worker","onmessage","getImageData","postMessage","voronoiContainmentData","interCommContainmentData","numVoronois","numInterComms","setLayer","colorScale","scale","linear","range","voronoiScale","domain","Math","min","toConsumableArray","max","_","intercommScale","Mapvue_type_script_lang_js_","urlInterComm","urlVoronoi","queue","defer","await","v","_displayMap","_displayMap2","slicedToArray","watch","_ref","_ref2","components_Mapvue_type_script_lang_js_","Map_component","Map","Sidebarvue_type_template_id_2ab548ca_render","title","content","Sidebarvue_type_template_id_2ab548ca_staticRenderFns","alt","Histogramvue_type_template_id_12141535_render","Histogramvue_type_template_id_12141535_staticRenderFns","updatePlot","that","Plotly","react","graph","margin","b","displayModeBar","Histogramvue_type_script_lang_js_","components_Histogramvue_type_script_lang_js_","Histogram_component","Histogram","Sidebarvue_type_script_lang_js_","components","components_Sidebarvue_type_script_lang_js_","Sidebar_component","Sidebar","Appvue_type_script_lang_js_","reduce","sidebarVisible","onLayerLoaded","src_Appvue_type_script_lang_js_","App_component","App","Vue","productionTip","render","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Intro_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Intro_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ZoomControl_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ZoomControl_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Sidebar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Sidebar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.4331bb4c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.introVisible)?_c('Intro',{attrs:{\"onDismiss\":function () { return _vm.introVisible = false; }}}):_vm._e()],1),_c('section',{staticClass:\"menu\"},[_c('LocationControl',{attrs:{\"onLocation\":function (loc) { return this$1.currentLocation = loc; }}}),_c('Layers',{attrs:{\"layers\":_vm.layers},model:{value:(_vm.currentLayer),callback:function ($$v) {_vm.currentLayer=$$v},expression:\"currentLayer\"}}),_c('ZoomControl')],1),_c('section',{staticClass:\"container\"},[_c('Map',{attrs:{\"layers\":_vm.layers,\"currentLayer\":_vm.currentLayer,\"currentLocation\":_vm.currentLocation,\"onHist\":function (h) { return this$1.currentHistogram = h; }}}),_c('Sidebar',{attrs:{\"layers\":_vm.layers,\"currentLayer\":_vm.currentLayer,\"currentHistogram\":_vm.currentHistogram}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"intro\"},[_vm._m(0),_c('p',[_vm._v(\"Découvrez l'influence de la nature sur votre vie à Paris.\")]),_c('section',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button accent\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDismiss($event)}}},[_vm._v(\"Commencer\")]),_c('a',{staticClass:\"button\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDismiss($event)}}},[_vm._v(\"Visite guidée\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_vm._v(\"\\n    EcoParis\\n    \"),_c('img',{attrs:{\"src\":\"assets/parrot.svg\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"intro\">\n    <h1>\n      EcoParis\n      <img src=\"assets/parrot.svg\">\n    </h1>\n\n    <p>Découvrez l'influence de la nature sur votre vie à Paris.</p>\n\n    <section class=\"buttons\">\n      <a @click.prevent=\"onDismiss\" href=\"#\" class=\"button accent\">Commencer</a>\n      <a @click.prevent=\"onDismiss\" href=\"#\" class=\"button\">Visite guidée</a>\n    </section>\n  </section>\n</template>\n\n<script>\nexport default {\n  props: ['onDismiss']\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.intro {\n  z-index: 1001;\n  position: fixed;\n  display: flex;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  color: #fff;\n  // background: linear-gradient(to right, rgba(#1fa2ff, .95), rgba(#12d8fa, .95), rgba(#a6ffcb, .95));\n  // background: linear-gradient(to right, rgba(#4cb8c4, .95), rgba(#3cd3ad, .95));\n  // background: linear-gradient(to right, rgba(#56ab2f, .95), rgba(#a8e063, .95));\n  background: linear-gradient(to right, rgba(#ffe259, .93), rgba(#ffa751, .95));\n}\n\n.intro.fade-enter-active, .intro.fade-leave-active {\n  transition: opacity .3s;\n}\n\n.intro.fade-enter, .intro.fade-leave-to {\n  opacity: 0;\n}\n\n.intro h1, .intro p {\n  text-shadow: 0 0 2px rgba(0, 0, 0, .4);\n}\n\n.intro h1 {\n  font-family: 'Cedarville Cursive';\n  font-size: 38pt;\n  margin: 0 0 -.3rem;\n  position: relative;\n}\n\n.intro h1 img {\n  position: absolute;\n  width: 64px;\n  top: -8px;\n  right: -30px;\n}\n\n.intro p {\n  font-size: 21pt;\n  margin: 0;\n}\n\n.intro .buttons {\n  margin-top: 60px;\n}\n\n.intro .button {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Intro.vue?vue&type=template&id=8e00bca0&\"\nimport script from \"./Intro.vue?vue&type=script&lang=js&\"\nexport * from \"./Intro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Intro.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Intro.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"zoom-control\"},[_c('a',{staticClass:\"minus\",attrs:{\"href\":\"#\"}},[_vm._v(\"-\")]),_c('a',{staticClass:\"plus\",attrs:{\"href\":\"#\"}},[_vm._v(\"+\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"zoom-control\">\n    <a href=\"#\" class=\"minus\">-</a>\n    <a href=\"#\" class=\"plus\">+</a>\n  </section>\n</template>\n\n<script>\nexport default {}\n</script>\n\n<style>\n.zoom-control {\n  width: 80px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoomControl.vue?vue&type=template&id=5796146f&\"\nimport script from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ZoomControl.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ZoomControl.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"location-control\"},[_c('a',{staticClass:\"locate\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.locate($event)}}},[_c('i',{staticClass:\"fas fa-map-marker-alt\"})]),_c('div',{class:{search: true, active: _vm.searchExpanded}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSearch($event)}}},[(_vm.searchExpanded)?_c('i',{staticClass:\"fas fa-search-minus\"}):_c('i',{staticClass:\"fas fa-search-location\"})]),_c('input',{ref:\"searchInput\",staticClass:\"autocomplete\",attrs:{\"type\":\"text\"},on:{\"keyup\":function($event){if(!('button' in $event)&&$event.keyCode!==27){ return null; }_vm.searchExpanded = false}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"location-control\">\n    <a href=\"#\" class=\"locate\"\n        @click.prevent=\"locate\">\n      <i class=\"fas fa-map-marker-alt\"></i>\n    </a>\n    <div :class=\"{search: true, active: searchExpanded}\">\n      <a href=\"#\" @click.prevent=\"toggleSearch\">\n        <i v-if=\"searchExpanded\" class=\"fas fa-search-minus\"></i>\n        <i v-else class=\"fas fa-search-location\"></i>\n      </a>\n      <input type=\"text\" class=\"autocomplete\" ref=\"searchInput\"\n        @keyup.27=\"searchExpanded = false\">\n    </div>\n  </section>\n</template>\n\n<script>\nimport Config from '../config.json'\n\nexport default {\n  props: ['onLocation'],\n\n  data: () => ({\n    searchExpanded: false\n  }),\n\n  mounted() {\n    const api = new google.maps.places.Autocomplete(this.$refs.searchInput)\n    api.setFields(['geometry'])\n    api.setOptions({strictBounds: true})\n    api.setBounds({\n      north: Config.viewport.topLatitude,\n      south: Config.viewport.bottomLatitude,\n      west: Config.viewport.leftLongitude,\n      east: Config.viewport.rightLongitude,\n    })\n\n    api.addListener('place_changed', () => {\n      const place = api.getPlace()\n\n      if (!place.geometry) {\n        this.onLocation(null, null)\n        return\n      }\n\n      this.searchExpanded = false\n      this.onLocation([\n        place.geometry.location.lat(),\n        place.geometry.location.lng()\n      ])\n    })\n  },\n\n  methods: {\n    locate() {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(pos => {\n          this.onLocation([pos.coords.latitude, pos.coords.longitude])\n        })\n      }\n    },\n\n    toggleSearch() {\n      this.searchExpanded ^= true\n      this.$refs.searchInput.focus()\n    },\n\n    keypressSearch(e) {\n      alert(JSON.stringify(e))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.location-control a i {\n  color: #111;\n  font-size: 18px;\n}\n\n.location-control .search {\n  display: flex;\n  align-items: center;\n\n  a {\n    border: 0 !important;\n  }\n\n  .autocomplete {\n    transition: width .25s;\n    height: 30px;\n    width: 0;\n    padding: 0;\n    border: 0 none;\n  }\n}\n\n.location-control .search.active .autocomplete {\n  width: 300px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocationControl.vue?vue&type=template&id=58e9f847&\"\nimport script from \"./LocationControl.vue?vue&type=script&lang=js&\"\nexport * from \"./LocationControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LocationControl.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"LocationControl.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"layers\"},[_c('h3',[_vm._v(\"Couches\")]),_c('div',{staticClass:\"buttons\"},_vm._l((_vm.layers),function(layer){return _c('a',{class:{ active: _vm.value == layer.path },on:{\"click\":function($event){$event.preventDefault();_vm.select(layer)}}},[_c('span',{staticClass:\"icon\",domProps:{\"innerHTML\":_vm._s(layer.icon)}}),_c('span',[_vm._v(_vm._s(layer.name))]),(!layer.loaded)?_c('div',{staticClass:\"loader-tile-grid\"},[_c('div',{staticClass:\"loader-tile loader-tile1\"}),_c('div',{staticClass:\"loader-tile loader-tile2\"}),_c('div',{staticClass:\"loader-tile loader-tile3\"}),_c('div',{staticClass:\"loader-tile loader-tile4\"}),_c('div',{staticClass:\"loader-tile loader-tile5\"}),_c('div',{staticClass:\"loader-tile loader-tile6\"}),_c('div',{staticClass:\"loader-tile loader-tile7\"}),_c('div',{staticClass:\"loader-tile loader-tile8\"}),_c('div',{staticClass:\"loader-tile loader-tile9\"})]):_vm._e()])}))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"layers\">\n    <h3>Couches</h3>\n\n    <div class=\"buttons\">\n      <a v-for=\"layer in layers\"\n        :class=\"{ active: value == layer.path }\"\n        @click.prevent=\"select(layer)\">\n        <span class=\"icon\" v-html=\"layer.icon\"></span>\n        <span>{{ layer.name }}</span>\n\n        <div v-if=\"!layer.loaded\" class=\"loader-tile-grid\">\n          <div class=\"loader-tile loader-tile1\"></div>\n          <div class=\"loader-tile loader-tile2\"></div>\n          <div class=\"loader-tile loader-tile3\"></div>\n          <div class=\"loader-tile loader-tile4\"></div>\n          <div class=\"loader-tile loader-tile5\"></div>\n          <div class=\"loader-tile loader-tile6\"></div>\n          <div class=\"loader-tile loader-tile7\"></div>\n          <div class=\"loader-tile loader-tile8\"></div>\n          <div class=\"loader-tile loader-tile9\"></div>\n        </div>\n      </a>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  props: ['layers', 'value'],\n\n  methods: {\n    select(layer) {\n      if (!layer.loading) {\n        this.$emit('input', layer.path)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.layers {\n  max-height: 600px;\n  height: 80%;\n  width: 80px;\n  border: 1px solid #bbb;\n  box-shadow: 0 0 3px rgba(#000, .2);\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n}\n\n.layers h3, .layers a {\n  text-transform: uppercase;\n}\n\n.layers h3 {\n  width: 100%;\n  margin: 0;\n  padding: 7px 0;\n  color: #666;\n  font-size: 11pt;\n  font-weight: normal;\n  text-align: center;\n}\n\n.layers .buttons {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.layers a {\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  cursor: pointer;\n\n  height: 80px;\n  text-decoration: none;\n  border-bottom: 1px solid #bbb;\n  color: #333;\n  font-size: 10pt;\n\n  &.active {\n    background: #f3f3f3;\n    box-shadow: inset 0 0 2px rgba(0, 0, 0, .1);\n  }\n\n  &:first-child {\n    border-top: 1px solid #bbb;\n  }\n\n  .icon {\n    font-size: 1rem;\n    margin-bottom: 3px;\n  }\n}\n\n// Source: http://tobiasahlin.com/spinkit/\n.loader-tile-grid {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  cursor: not-allowed;\n}\n\n.loader-tile-grid .loader-tile {\n  width: 33%;\n  height: 33%;\n  background-color: #fff;\n  float: left;\n\n  animation: loader-tileGridScaleDelay 1.3s infinite ease-in-out;\n}\n\n.loader-tile-grid .loader-tile1 { animation-delay: 0.2s; }\n.loader-tile-grid .loader-tile2 { animation-delay: 0.3s; }\n.loader-tile-grid .loader-tile3 { animation-delay: 0.4s; }\n.loader-tile-grid .loader-tile4 { animation-delay: 0.1s; }\n.loader-tile-grid .loader-tile5 { animation-delay: 0.2s; }\n.loader-tile-grid .loader-tile6 { animation-delay: 0.3s; }\n.loader-tile-grid .loader-tile7 { animation-delay: 0s; }\n.loader-tile-grid .loader-tile8 { animation-delay: 0.1s; }\n.loader-tile-grid .loader-tile9 { animation-delay: 0.2s; }\n\n@keyframes loader-tileGridScaleDelay {\n  0%, 70%, 100% {\n    transform: scale3D(1, 1, 1);\n  } 35% {\n    transform: scale3D(0, 0, 1);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layers.vue?vue&type=template&id=47b297da&\"\nimport script from \"./Layers.vue?vue&type=script&lang=js&\"\nexport * from \"./Layers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Layers.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{ref:\"map\",staticClass:\"map\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Config from './config.json'\n\nvar urlAzote = 'data/n_export.json'\nvar urlPhosphore = 'data/p_export.json'\n\nconst MAP_TILES = 'https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png'\nconst MAP_ATTRIB = '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n\n/**\n * Creates a Leaflet map of the Paris area and returns it.\n */\nfunction createMap(element, initialBounds) {\n  const map = L.map(element, {\n    zoomControl: false\n  })\n  map.fitBounds(initialBounds)\n\n  const base = L.tileLayer(MAP_TILES, {\n    minZoom: 9,\n    maxZoom: 14, // Toner Light won't zoom further than 14.\n    attribution: MAP_ATTRIB\n  })\n\n  base.addTo(map)\n  return map\n}\n\n/**\n * Loads a JSON containment file and parses it.\n */\nfunction loadContainmentFile(url) {\n  return fetch(url)\n    .then(res => res.json())\n    .then(json => {\n      json.data = JSON.parse(json.data)\n      return json\n    })\n}\n\nexport default function(element, error, interComm_shape, voronoi_shape, onHistChange) {\n  var current_geoLat = null;\n  var current_geoLong = null;\n\n  const default_tl = new L.LatLng(\n    Config.viewport.topLatitude,\n    Config.viewport.leftLongitude\n  )\n  const default_br = new L.LatLng(\n    Config.viewport.bottomLatitude,\n    Config.viewport.rightLongitude\n  )\n  const initialBounds = L.latLngBounds(default_tl, default_br)\n\n  /**\n   * Returns whether a given point is within the Paris region.\n   */\n  function isWithinParis(point) {\n    return interComm_shape.features.some(s => d3.geoContains(s, point))\n  }\n\n  /**\n   * Sets the position of the geolocation marker.\n   */\n  function setLocation(lat, lng) {\n    if (!lat || !lng || !isWithinParis([lng, lat])) {\n      lat = null\n      lng = null\n      map.fitBounds(initialBounds)\n    } else {\n      map.panTo(new L.LatLng(lat, lng))\n      map.setZoom(11)\n    }\n\n    current_geoLat = lat\n    current_geoLong = lng\n    updateMarker()\n  }\n\n  /**\n   * Updates the marker element on the map with the right coordinates.\n   */\n  function updateMarker() {\n    if (current_geoLat && current_geoLong) {\n      const point = map.latLngToLayerPoint([current_geoLat, current_geoLong])\n      const x = point.x - markerIcon.iconAnchor[0]\n      const y = point.y - markerIcon.iconAnchor[1]\n      markerElement.attr('visibility', 'visible')\n      markerElement.attr('transform', `translate(${x}, ${y})`)\n    } else {\n      markerElement.attr('visibility', 'hidden')\n    }\n  }\n\n  /**\n   * Sets the position of the geolocation marker to the current position\n   * of the user (computed using the Geolocation API).\n   */\n  function setLocationFromCurrent() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => {\n        setLocation(pos.coords.latitude, pos.coords.longitude)\n      })\n    }\n  }\n\n  setLocationFromCurrent()\n\n  const map = createMap(element, initialBounds) //TODO: if the window is small, the zoom is too far (> 14) and the map is grey, untill we zoom in\n\n  function blankStyle(feature) {\n    return {\n      opacity: 0,\n      fillOpacity: 0\n    };\n  }\n  L.geoJson(interComm_shape, {\n    style: blankStyle\n  }).addTo(map); //needed! otherwise a svg isn't generated, we use this one for practical purposes\n\n  var svg = d3.select(element).select(\"svg\")\n\n  function projectPoint(x, y) {\n    var point = map.latLngToLayerPoint(new L.LatLng(y, x));\n    this.stream.point(point.x, point.y);\n  }\n  var transform = d3.geo.transform({\n    point: projectPoint\n  });\n  var path = d3.geo.path()\n    .projection(transform);\n  var defs = svg.append(\"defs\");\n  var defs_path = defs.append(\"path\")\n    .attr(\"id\", \"clip_path\")\n  defs.append(\"clipPath\")\n    .attr(\"id\", \"clip\")\n    .append(\"use\")\n    .attr(\"xlink:href\", \"#clip_path\");\n  var imgs = svg.selectAll(\"image\").data([0])\n    .enter()\n    .append(\"svg:image\")\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr(\"xlink:href\", \"\")\n    .attr(\"clip-path\", \"url(#clip)\")\n\n  function update_clip() {\n\n    function clip_projectPoint(x, y) {\n\n      var default_tl_point = map.latLngToLayerPoint([cachedLayers[currentLayerPath].tl_lat, cachedLayers[currentLayerPath].tl_lng])\n      var default_br_point = map.latLngToLayerPoint([cachedLayers[currentLayerPath].br_lat, cachedLayers[currentLayerPath].br_lng])\n\n      var width = (default_br_point.x - default_tl_point.x)\n      var height = (default_br_point.y - default_tl_point.y)\n\n      var point = map.latLngToLayerPoint(L.latLng(y, x))\n\n      var tx = (point.x - default_tl_point.x) / (default_br_point.x - default_tl_point.x) * (width - 1)\n      var ty = (point.y - default_tl_point.y) / (default_br_point.y - default_tl_point.y) * (height - 1)\n\n      this.stream.point(tx, ty);\n    }\n\n    var clip_transform = d3.geo.transform({\n      point: clip_projectPoint\n    });\n    var clip_path = d3.geo.path()\n      .projection(clip_transform);\n    defs_path.attr(\"d\", clip_path)\n  }\n\n\n  var emptyOpacity = 0\n  var fadedOpacity = 0.4\n  var semiFullOpacity = 0.7\n  var fullOpacity = 1\n  var currentLayerPath = \"\"\n\n  var voronoi = svg.append(\"g\").selectAll(\"path\")\n    .data(voronoi_shape.features)\n    .enter().append('path')\n    .attr('d', path)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .style('stroke', \"#666\")\n    .style(\"fill-opacity\", emptyOpacity)\n    .style(\"stroke-opacity\", emptyOpacity)\n    .on(\"mouseover\", function(d, i) {\n      d3.select(this).style('fill-opacity', emptyOpacity);\n      defs_path.datum(d.geometry)\n      update_clip()\n      update_chart(i, currentLayerPath, true)\n    })\n    .on(\"mouseout\", function(d, i) {\n      if (highlightedInterComm != -1) {\n        d3.select(this).style('fill-opacity', oneIfInInterComm(highlightedInterComm)(d, i));\n        d3.select(this).style('stroke-opacity', oneIfInInterComm(highlightedInterComm)(d, i));\n      }\n\n      defs_path.datum([])\n      update_clip()\n    })\n    .on(\"click\", function(d, i) {\n      interComms.style(\"pointer-events\", \"all\")\n      map.fitBounds(initialBounds) // zoom back to paris\n      highlightedInterComm = -1\n      interComms.style(\"fill-opacity\", fullOpacity)\n      voronoi.style(\"fill-opacity\", emptyOpacity)\n      voronoi.style(\"stroke-opacity\", emptyOpacity)\n\n      defs_path.datum([])\n      update_clip()\n    })\n\n  var highlightedInterComm = -1\n\n  function oneIfInInterComm(interCommIndex) {\n    function oneIfInInterComm_(p, j) {\n      if (firstVoronoiByInterComm[interCommIndex] <= j && (interCommIndex == interComm_shape.features.length - 1 || firstVoronoiByInterComm[interCommIndex + 1] > j)) {\n        return 1\n      } else {\n        return 0\n      }\n    }\n    return oneIfInInterComm_\n  }\n  var interComms = svg.append(\"g\").selectAll(\"path\")\n    .data(interComm_shape.features)\n    .enter().append('path')\n    .attr('d', path)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .style('stroke', \"#333\")\n    .attr(\"fill\", \"#fff\")\n    .attr(\"fill-opacity\", fullOpacity)\n    .style(\"pointer-events\", \"all\")\n    .on(\"mouseover\", function(d, i) {\n      if (highlightedInterComm != -1) {\n        if (i != highlightedInterComm) {\n          d3.select(this).style('fill-opacity', fullOpacity);\n        } else {\n          d3.select(this).style('fill-opacity', emptyOpacity);\n        }\n      } else {\n        d3.select(this).style('fill-opacity', fadedOpacity);\n      }\n      update_chart(i, currentLayerPath, false)\n    })\n    .on(\"mouseout\", function(d, i) {\n      if (highlightedInterComm != -1) {\n        if (i == highlightedInterComm) {\n          d3.select(this).style('fill-opacity', emptyOpacity);\n        } else {\n          d3.select(this).style('fill-opacity', fadedOpacity);\n        }\n      } else {\n        d3.select(this).style('fill-opacity', fullOpacity);\n      }\n    })\n    .on(\"click\", function(d, i) {\n      interComms.style(\"pointer-events\", \"all\") // now we can click/hover on every department\n      d3.select(this).style(\"pointer-events\", \"none\") // except the current one!\n\n      interComms.style(\"fill-opacity\", fadedOpacity) //same here, show every intercomm except this one\n      d3.select(this).style('fill-opacity', emptyOpacity);\n      highlightedInterComm = i\n\n\n      voronoi.style(\"fill-opacity\", oneIfInInterComm(i))\n      voronoi.style(\"stroke-opacity\", oneIfInInterComm(i))\n\n      var BBox = d3.select(this).node().getBBox()\n      var neBound = map.layerPointToLatLng(L.point(BBox.x, BBox.y))\n      var swBound = map.layerPointToLatLng(L.point(BBox.x + BBox.width, BBox.y + BBox.height))\n      map.fitBounds(L.latLngBounds(neBound, swBound)) // zoom to department\n    })\n\n  const markerIcon = {\n    iconUrl: 'assets/marker.png',\n    iconSize: [24, 24],\n    iconAnchor: [12, 24]\n  }\n\n  let markerElement = svg.append(\"g\").selectAll(\"image\").data([0])\n    .enter()\n    .append(\"svg:image\")\n    .attr(\"xlink:href\", markerIcon.iconUrl)\n    .attr(\"width\", markerIcon.iconSize[0])\n    .attr(\"height\", markerIcon.iconSize[1])\n    .attr('visibility', 'hidden')\n    .style(\"pointer-events\", \"none\")\n\n  var canvas = document.createElement(\"canvas\")\n  var context = canvas.getContext('2d');\n\n  var update_parameters = {\n    hide: true,\n  };\n\n  function update_chart(i, layerURl, voro) {\n    var info = cachedLayers[layerURl]\n    if (!info) {\n      return;\n    }\n    if (voro == true) {\n      var data = info.voronoi_hist[i]\n    } else {\n      var data = info.interComm_hist[i]\n    }\n\n    var buckets = []\n    for (var j = 0; j < info.hist_buckets.length + 1; ++j) {\n      buckets[j] = 0\n    }\n\n    data.forEach((d, j) => {\n      for (var j = 0; j < info.hist_buckets.length; ++j) {\n        if (d <= info.hist_buckets[j]) {\n          // FIXME(liautaud): Does it make sense to plot 0 values on the histograms?\n          if (d > 0) {\n            buckets[j]++;\n          }\n          return;\n        }\n      }\n      buckets[info.hist_buckets.length]++ //larger than any separation ==> in the last bucket!\n    })\n\n    onHistChange(data, buckets)\n  }\n\n\n  function update() {//add here everything that could potentially change\n    if (update_parameters.hide) {\n      console.log('hidden!')\n      interComms.attr('visibility', 'hidden')\n      voronoi.attr('visibility', 'hidden')\n      imgs.attr('visibility', 'hidden')\n      return;\n    } else {\n      interComms.attr('visibility', 'visible')\n      voronoi.attr('visibility', 'visible')\n      imgs.attr('visibility', 'visible')\n    }\n\n    var tl = update_parameters.tl\n    var br = update_parameters.br\n\n    console.log('UPDATING')\n    var width = (map.latLngToLayerPoint(br).x - map.latLngToLayerPoint(tl).x)\n    var height = (map.latLngToLayerPoint(br).y - map.latLngToLayerPoint(tl).y)\n    imgs.attr(\"transform\",\n      function(d) {\n        var point = map.latLngToLayerPoint(tl)\n        return \"translate(\" +\n          point.x + \",\" +\n          point.y + \")\";\n      }\n    )\n\n    imgs.attr('width', () => width)\n    imgs.attr('height', () => height)\n    interComms.attr(\"d\", path)\n    voronoi.attr(\"d\", path)\n    update_clip()\n    updateMarker()\n  }\n\n  map.on('viewreset', update)\n\n  var firstVoronoiByInterComm = []\n\n  var cachedLayers = {} //placehoder for the layers, to compute them only once\n\n  /**\n   * Loads, pre-processes and caches the layer with the given path.\n   * This includes:\n   * - Fetching the layer's JSON data;\n   * - Fetching containment files.\n   * - Preparing arrays for means, counts and histograms.\n   * - Dispatching those computations to worker threads.\n   */\n  function loadLayer(path, callback) {\n    if (cachedLayers[path]) {\n      callback();\n      return;\n    }\n\n    fetch(path)\n      .then(res => res.json())\n      .then(json => {\n        json.data = JSON.parse(json.data)\n\n        var pixels = json.data;\n\n        canvas.width = json.width\n        canvas.height = json.height\n\n        var tempContext = canvas.getContext(\"2d\");\n        tempContext.createImageData(canvas.width, canvas.height);\n\n        var len = canvas.height * canvas.width;\n        var workersCount = 1;\n        var finished = 0;\n        var segmentLength = len / workersCount;\n        var blockSize = canvas.height / workersCount;\n\n        //initalize means and counts arrays\n        var voronoi_means = []\n        var voronoi_counts = []\n        var voronoi_hist = {}\n\n        for (var i = 0; i < voronoi_shape.features.length; ++i) {\n          voronoi_counts[i] = 0\n          voronoi_means[i] = 0\n          voronoi_hist[i] = []\n        }\n\n        var interComm_means = []\n        var interComm_counts = []\n        var interComm_hist = {}\n\n        for (var i = 0; i < interComm_shape.features.length; ++i) {\n          interComm_counts[i] = 0\n          interComm_means[i] = 0\n          interComm_hist[i] = []\n        }\n\n        firstVoronoiByInterComm = []\n        for (var i = 0; i < interComm_shape.features.length; ++i) {\n          firstVoronoiByInterComm[i] = 10000 //bigger than the max, ~670\n        }\n\n        // Return a promise.\n        var onWorkEnded = function(e) {\n          var canvasData = e.data.result;\n          var index = e.data.index;\n\n          var interComm_counts_portion = e.data.interComm_counts\n          var interComm_means_portion = e.data.interComm_means\n          var voronoi_counts_portion = e.data.voronoi_counts\n          var voronoi_means_portion = e.data.voronoi_means\n          var firstVoronoiByInterCommPortion = e.data.firstVoronoiByInterComm\n          var voronoi_hist_portion = e.data.voronoi_hist\n          var interComm_hist_portion = e.data.interComm_hist\n\n          for (var i = 0; i < voronoi_shape.features.length; ++i) {\n            voronoi_counts[i] += voronoi_counts_portion[i]\n            voronoi_means[i] += voronoi_means_portion[i]\n            voronoi_hist[i] = voronoi_hist[i].concat(voronoi_hist_portion[i])\n          }\n\n          for (var i = 0; i < interComm_shape.features.length; ++i) {\n            interComm_counts[i] += interComm_counts_portion[i]\n            interComm_means[i] += interComm_means_portion[i]\n            interComm_hist[i] = interComm_hist[i].concat(interComm_hist_portion[i])\n\n            if (firstVoronoiByInterComm[i] > firstVoronoiByInterCommPortion[i]) {\n              firstVoronoiByInterComm[i] = firstVoronoiByInterCommPortion[i]\n            }\n          }\n\n          tempContext.putImageData(canvasData, 0, blockSize * index);\n          finished++;\n\n          if (finished == workersCount) {\n            for (var i = 0; i < voronoi_shape.features.length; ++i) {\n              if (voronoi_counts[i] != 0) {\n                voronoi_means[i] /= voronoi_counts[i]\n              }\n            }\n            for (var i = 0; i < interComm_shape.features.length; ++i) {\n              if (interComm_counts[i] != 0) {\n                interComm_means[i] /= interComm_counts[i]\n              }\n            }\n\n            var hist_buckets = [70, 140]; //TODO: change acodring to layer (hard-coded...)\n\n            var value = canvas.toDataURL(\"png\");\n            imgs.attr(\"xlink:href\", value)\n            cachedLayers[path] = {\n              \"url\": value,\n              \"tl_lat\": json.tl_lat,\n              \"tl_lng\": json.tl_lng,\n              \"br_lat\": json.br_lat,\n              \"br_lng\": json.br_lng,\n              \"width\": canvas.width,\n              \"height\": canvas.height,\n              \"voronoi_means\": voronoi_means,\n              \"interComm_means\": interComm_means,\n              \"voronoi_hist\": voronoi_hist,\n              \"interComm_hist\": interComm_hist,\n              \"hist_buckets\": hist_buckets,\n              \"layerUrl\": path\n            }\n\n            callback();\n          }\n        };\n\n        // FIXME(liautaud): Nested callbacks is a code smell.\n        // FIXME(liautaud): This should be done only once.\n        loadContainmentFile(\"data/voronoi_cont.json\").then(voronoiContainment => {\n          loadContainmentFile(\"data/intercomm_cont.json\").then(interCommContainment => {\n            for (var index = 0; index < workersCount; index++) {\n              var worker = new Worker(\"assets/pictureProcessor.js\");\n              worker.onmessage = onWorkEnded;\n              var canvasData = tempContext.getImageData(0, blockSize * index, canvas.width, blockSize);\n              worker.postMessage({\n                canvasData: canvasData,\n                pixels: pixels,\n                index: index,\n                length: segmentLength,\n                width: canvas.width,\n                height: canvas.height,\n                voronoiContainmentData: voronoiContainment.data,\n                interCommContainmentData: interCommContainment.data,\n                numVoronois: voronoi_shape.features.length,\n                numInterComms: interComm_shape.features.length,\n                tl_lat: json.tl_lat,\n                tl_lng: json.tl_lng,\n                br_lat: json.br_lat,\n                br_lng: json.br_lng\n              });\n            }\n          })\n        })\n      })\n\n    // TODO(liautaud): Return a Promise.\n  }\n\n  /**\n   * Changes the current layer to the one with a given path.\n   */\n  function setLayer(path) {\n    if (!path) {\n      update_parameters.hide = true\n      update()\n      return;\n    }\n\n    loadLayer(path, () => {\n      // Once the layer is loaded, we can get it from the cache.\n      const layer = cachedLayers[path]\n\n      // Use d3 color scales to map values to fill colors.\n      const colorScale = d3.scale.linear()\n        .range(['#ffffcc', '#e31a1c'])\n\n      const voronoiScale = colorScale\n        .domain([Math.min(...layer.voronoi_means), Math.max(...layer.voronoi_means)])\n      voronoi.attr('fill', (_, i) =>\n        voronoiScale(layer.voronoi_means[i]))\n\n      const intercommScale = colorScale\n        .domain([Math.min(...layer.interComm_means), Math.max(...layer.interComm_means)])\n      interComms.attr('fill', (_, i) =>\n        intercommScale(layer.interComm_means[i]))\n\n      // Reset the width and height of the canvas.\n      canvas.width = layer.width\n      canvas.height = layer.height\n\n      // Update the bounding box and current coordinates.\n      update_parameters.hide = false\n      update_parameters.tl = new L.LatLng(layer.tl_lat, layer.tl_lng)\n      update_parameters.br = new L.LatLng(layer.br_lat, layer.br_lng)\n      update_parameters.current_geoLat = current_geoLat\n      update_parameters.current_geoLong = current_geoLong\n\n      update()\n      currentLayerPath = path\n      imgs.attr('xlink:href', layer.url)\n    })\n  }\n\n  return [loadLayer, setLayer, setLocation]\n}","<template>\n  <section ref=\"map\" class=\"map\"></section>\n</template>\n\n<script>\nimport Config from '../config.json'\nimport displayMap from '../map'\n\nexport default {\n  props: ['layers', 'currentLayer', 'currentLocation', 'onHist'],\n  data: () => ({\n    loadLayer: () => {},\n    setLayer: () => {},\n    setLocation: () => {},\n  }),\n\n  /**\n   * Triggers when the component has been mounted.\n   * This is used to create the Leaflet map and bind the event handlers.\n   */\n  mounted () {\n    var urlInterComm = 'data/intercommunalites.geojson'\n    var urlVoronoi = 'data/voronois.json'\n\n    queue()\n      .defer(d3.json, urlInterComm)\n      .defer(d3.json, urlVoronoi)\n      .await((e, d, v) => {\n        [this.loadLayer, this.setLayer, this.setLocation] =\n          displayMap(this.$refs.map, e, d, v, (d, _) => this.onHist(d))\n\n        Config.layers.forEach(layer => this.loadLayer(\n          layer.path,\n          () => this.layers[layer.path].loaded = true\n        ))\n\n        this.setLayer(this.currentLayer)\n      })\n  },\n\n  watch: {\n    /**\n     * Watches changes to the currentLayer prop, and updates the map.\n     */\n    currentLayer(layer) {\n      this.setLayer(layer)\n    },\n\n    /**\n     * Watches changes to the currentLocation prop, and updates the marker.\n     */\n    currentLocation([lat, lng]) {\n      this.setLocation(lat, lng)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.map {\n  flex: 1;\n}\n\n.leaflet-overlay-pane {\n  mix-blend-mode: multiply;\n\n  image {\n    image-rendering: optimizespeed;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=ebcced14&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Map.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"sidebar\"},[(_vm.layers[_vm.currentLayer])?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.layers[_vm.currentLayer].title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.layers[_vm.currentLayer].content)}}),_c('Histogram',{attrs:{\"data\":_vm.currentHistogram}})],1):_c('div',{staticClass:\"split\"},[_vm._m(0),_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',[_c('h2',[_vm._v(\"Bienvenue sur EcoParis.\")]),_c('p',[_vm._v(\"EcoParis est une visualisation interactive des données cartographiques des services écosystémiques en territoires urbains et péri-urbains en région Ile-de-France issues du projet \"),_c('a',{attrs:{\"href\":\"https://idefese.wordpress.com/\"}},[_vm._v(\"IDEFESE\")]),_vm._v(\".\")]),_c('p',[_vm._v(\"Pour commencer, vous pouvez sélectionner une couche à afficher parmi des mesures de rétention \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"de phosphore\")]),_vm._v(\" et \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"d'azote\")]),_vm._v(\", des mesures de \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"réduction de la température\")]),_vm._v(\" due à la végétation ou encore de \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"valeur économique\")]),_vm._v(\" des régions.\")]),_c('p',[_vm._v(\"Vous pouvez aussi choisir d'afficher l'évolution estimée de ces mesures à l'horizon 2025 dans un scénario de changement climatique.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"about\"},[_c('p',[_vm._v(\"EcoParis a été conçu par des élèves du cours de \"),_c('a',{attrs:{\"href\":\"https://edu.epfl.ch/coursebook/en/data-visualization-COM-480\"}},[_vm._v(\"Data Visualization\")]),_vm._v(\" de l'EPFL, avec l'aide de Perrine Hamel du projet \"),_c('a',{attrs:{\"href\":\"https://naturalcapitalproject.stanford.edu/\"}},[_vm._v(\"Natural Capital Project\")]),_vm._v(\" de Stanford.\")]),_c('section',{staticClass:\"slideshow\"},[_c('a',{attrs:{\"href\":\"https://www.epfl.ch/\"}},[_c('img',{attrs:{\"src\":\"https://mediacom.epfl.ch/files/content/sites/mediacom/files/EPFL-Logo.jpg\",\"alt\":\"Logo EPFL\"}})]),_c('a',{attrs:{\"href\":\"https://naturalcapitalproject.stanford.edu/\"}},[_c('img',{attrs:{\"src\":\"https://idefese.files.wordpress.com/2018/11/image5.jpg?w=172&h=171\",\"alt\":\"Logo NatCap\"}})])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"graph\",staticClass:\"graph-box\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"graph\" class=\"graph-box\"></div>\n</template>\n\n<script>\n/**\n * Updates the Plotly plot according to this.data.\n */\nconst updatePlot = (that) =>\n  Plotly.react(that.$refs.graph, [{\n    x: that.data,\n    type: 'histogram',\n  }], {\n    margin: {\n      l: 35,\n      r: 35,\n      t: 5,\n      b: 20,\n    },\n  }, {\n    displayModeBar: false,\n  })\n\nexport default {\n  props: ['data'],\n\n  mounted() {\n    updatePlot(this)\n  },\n\n  watch: {\n    /**\n     * Watches changes to the data prop, and updates the histogram.\n     */\n    data() {\n      updatePlot(this)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.graph-box {\n  height: 300px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Histogram.vue?vue&type=template&id=12141535&\"\nimport script from \"./Histogram.vue?vue&type=script&lang=js&\"\nexport * from \"./Histogram.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Histogram.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Histogram.vue\"\nexport default component.exports","<template>\n  <section class=\"sidebar\">\n    <div v-if=\"layers[currentLayer]\">\n      <h2>{{ layers[currentLayer].title }}</h2>\n      <div v-html=\"layers[currentLayer].content\"></div>\n      <Histogram :data=\"currentHistogram\" />\n    </div>\n\n    <div v-else class=\"split\">\n      <article>\n        <h2>Bienvenue sur EcoParis.</h2>\n\n        <p>EcoParis est une visualisation interactive des données cartographiques des services écosystémiques en territoires urbains et péri-urbains en région Ile-de-France issues du projet <a href=\"https://idefese.wordpress.com/\">IDEFESE</a>.</p>\n\n        <p>Pour commencer, vous pouvez sélectionner une couche à afficher parmi des mesures de rétention <a href=\"#\">de phosphore</a> et <a href=\"#\">d'azote</a>, des mesures de <a href=\"#\">réduction de la température</a> due à la végétation ou encore de <a href=\"#\">valeur économique</a> des régions.</p>\n\n        <p>Vous pouvez aussi choisir d'afficher l'évolution estimée de ces mesures à l'horizon 2025 dans un scénario de changement climatique.</p>\n      </article>\n\n      <article class=\"about\">\n        <p>EcoParis a été conçu par des élèves du cours de <a href=\"https://edu.epfl.ch/coursebook/en/data-visualization-COM-480\">Data Visualization</a> de l'EPFL, avec l'aide de Perrine Hamel du projet <a href=\"https://naturalcapitalproject.stanford.edu/\">Natural Capital Project</a> de Stanford.</p>\n\n        <section class=\"slideshow\">\n          <a href=\"https://www.epfl.ch/\">\n            <img src=\"https://mediacom.epfl.ch/files/content/sites/mediacom/files/EPFL-Logo.jpg\" alt=\"Logo EPFL\">\n          </a>\n          <a href=\"https://naturalcapitalproject.stanford.edu/\">\n            <img src=\"https://idefese.files.wordpress.com/2018/11/image5.jpg?w=172&h=171\" alt=\"Logo NatCap\">\n          </a>\n        </section>\n      </article>\n    </div>\n  </section>\n</template>\n\n<script>\nimport Histogram from './Histogram.vue'\n\nexport default {\n  props: ['layers', 'currentLayer', 'currentHistogram'],\n  components: { Histogram },\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.sidebar {\n  z-index: 500;\n  width: 450px;\n  max-width: 30%;\n  box-sizing: border-box;\n  padding: 40px;\n  text-align: justify;\n\n  background: #fff;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .3);\n  overflow: auto;\n}\n\n.sidebar .split {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.sidebar p {\n  margin: 30px 0;\n}\n\n.sidebar h2 {\n  margin-top: 0;\n}\n\n.sidebar .about {\n  font-style: italic;\n}\n\n.sidebar .slideshow {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  margin: 40px 0 20px;\n\n  a {\n    height: 90px;\n  }\n\n  img {\n    height: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=2ab548ca&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Sidebar.vue\"\nexport default component.exports","<template>\n  <div id=\"app\">\n    <transition name=\"fade\">\n      <Intro v-if=\"introVisible\" :onDismiss=\"() => introVisible = false\" />\n    </transition>\n\n    <section class=\"menu\">\n      <LocationControl\n        :onLocation=\"loc => this.currentLocation = loc\" />\n      <Layers\n        :layers=\"layers\"\n        v-model=\"currentLayer\" />\n      <ZoomControl />\n    </section>\n    <section class=\"container\">\n      <Map\n        :layers=\"layers\"\n        :currentLayer=\"currentLayer\"\n        :currentLocation=\"currentLocation\"\n        :onHist=\"h => this.currentHistogram = h\" />\n      <Sidebar\n        :layers=\"layers\"\n        :currentLayer=\"currentLayer\"\n        :currentHistogram=\"currentHistogram\" />\n    </section>\n  </div>\n</template>\n\n<script>\nimport Config from './config.json'\n\nimport Intro from './components/Intro.vue'\nimport ZoomControl from './components/ZoomControl.vue'\nimport LocationControl from './components/LocationControl.vue'\nimport Layers from './components/Layers.vue'\nimport Map from './components/Map.vue'\nimport Sidebar from './components/Sidebar.vue'\n\nexport default {\n  data: () => ({\n    layers: Config.layers.reduce((m, layer) => {\n      m[layer.path] = layer\n      m[layer.path].loaded = false\n      return m\n    }, {}),\n\n    // currentLayer: 'data/p_export.json',\n    currentLayer: null,\n    currentLocation: null,\n    currentHistogram: null,\n    introVisible: true,\n    sidebarVisible: false,\n  }),\n\n  components: { Intro, ZoomControl, LocationControl, Layers, Map, Sidebar },\n\n  methods: {\n    onLayerLoaded(layer) {\n      console.log(layer)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\nhtml, body {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  font-size: 15pt;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  font-family: 'IBM Plex Sans', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\nh2 {\n  font-size: 1.2rem;\n}\n\np {\n  font-family: 'Crimson Text', serif;\n}\n\n.button {\n  text-decoration: none;\n  margin: 1.2rem;\n  font-size: 14pt;\n  padding: 9px 13px;\n  border: 1px solid #fff;\n  color: #fff;\n  text-transform: uppercase;\n  font-weight: 300;\n  transition: padding .2s;\n  position: relative;\n  outline: none;\n\n  &:hover {\n    padding: 9px 16px;\n  }\n\n  &.accent {\n    background: rgba(#fff, .2);\n  }\n}\n\n.menu {\n  z-index: 500;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 50px;\n  display: flex;\n  flex-direction: column;\n\n  justify-content: center;\n}\n\n.container {\n  display: flex;\n  background: #000;\n  width: 100%;\n  height: 100%;\n}\n\n.zoom-control, .location-control {\n  height: 40px;\n  border: 1px solid #bbb;\n  box-shadow: 0 0 3px rgba(#000, .2);\n  background: #fff;\n  display: flex;\n  margin: 20px 0;\n  flex-basis: content;\n\n  a {\n    outline: none;\n    height: 40px;\n    width: 39px;\n    font-family: Courier New;\n    font-size: 18pt;\n    line-height: 40px;\n    text-align: center;\n    text-decoration: none;\n    color: #000;\n  }\n\n  a:first-child {\n    border-right: 1px solid #bbb;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=24275e81&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}