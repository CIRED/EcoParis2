{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Layers.vue?83df","webpack:///./src/App.vue?99d5","webpack:///./src/components/Intro.vue?24ee","webpack:///src/components/Intro.vue","webpack:///./src/components/Intro.vue?21f1","webpack:///./src/components/Intro.vue","webpack:///./src/components/ZoomControl.vue?9c71","webpack:///src/components/ZoomControl.vue","webpack:///./src/components/ZoomControl.vue?b509","webpack:///./src/components/ZoomControl.vue?f0d9","webpack:///./src/components/LocationControl.vue?1f5c","webpack:///src/components/LocationControl.vue","webpack:///./src/components/LocationControl.vue?071a","webpack:///./src/components/LocationControl.vue","webpack:///./src/components/Layers.vue?3420","webpack:///src/components/Layers.vue","webpack:///./src/components/Layers.vue?1d7e","webpack:///./src/components/Layers.vue","webpack:///./src/components/Map.vue?f9e9","webpack:///./src/shared.js","webpack:///./src/helpers.js","webpack:///./src/update.js","webpack:///./src/layers.js","webpack:///./src/shapes.js","webpack:///./src/map.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue","webpack:///./src/components/Sidebar.vue?5c82","webpack:///./src/components/Histogram.vue?d33e","webpack:///src/components/Histogram.vue","webpack:///./src/components/Histogram.vue?11b6","webpack:///./src/components/Histogram.vue","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?d975","webpack:///./src/components/Sidebar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?bcb1","webpack:///./src/components/Map.vue?357b","webpack:///./src/components/Intro.vue?6183","webpack:///./src/components/LocationControl.vue?9aba","webpack:///./src/components/ZoomControl.vue?bf9b","webpack:///./src/components/Histogram.vue?f3a7","webpack:///./src/components/Sidebar.vue?652c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Layers_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Layers_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_391da146_render","this$1","this","_vm","_h","$createElement","_c","_self","attrs","id","onDismiss","introVisible","currentLayerPath","defaultLayer","_e","staticClass","onLocation","loc","currentLocation","layers","model","callback","$$v","expression","onHist","x","y","currentHistogramX","currentHistogramY","onSchools","appRefs","$refs","ref","EV_path","staticRenderFns","Introvue_type_template_id_8e00bca0_render","_m","_v","href","on","click","$event","preventDefault","Introvue_type_template_id_8e00bca0_staticRenderFns","src","Introvue_type_script_lang_js_","props","components_Introvue_type_script_lang_js_","component","componentNormalizer","options","__file","Intro","ZoomControlvue_type_template_id_5796146f_render","ZoomControlvue_type_template_id_5796146f_staticRenderFns","ZoomControlvue_type_script_lang_js_","components_ZoomControlvue_type_script_lang_js_","ZoomControl_component","ZoomControl","LocationControlvue_type_template_id_58e9f847_render","locate","class","search","active","searchExpanded","toggleSearch","type","keyup","keyCode","LocationControlvue_type_template_id_58e9f847_staticRenderFns","LocationControlvue_type_script_lang_js_","mounted","_this","api","google","maps","places","Autocomplete","searchInput","setFields","setOptions","strictBounds","setBounds","north","config","viewport","topLatitude","south","bottomLatitude","west","leftLongitude","east","rightLongitude","addListener","place","getPlace","geometry","location","lat","lng","methods","_this2","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","focus","keypressSearch","e","alert","JSON","stringify","components_LocationControlvue_type_script_lang_js_","LocationControl_component","LocationControl","Layersvue_type_template_id_c5e2b39c_render","_l","layer","hidden","path","select","domProps","innerHTML","_s","icon","loaded","Layersvue_type_template_id_c5e2b39c_staticRenderFns","Layersvue_type_script_lang_js_","loading","$emit","components_Layersvue_type_script_lang_js_","Layers_component","Layers","Mapvue_type_template_id_7bd138c9_render","Mapvue_type_template_id_7bd138c9_staticRenderFns","cachedLayers","map","currentGeoLat","currentGeoLng","svg_EV","svg_circle_EV","interComms","voronoi","imgs","imgs_EV","update_parameters","markerElement","canvas","voronoi_shape","interComm_shape","firstVoronoiByInterComm","pathGenerator","defs_path","legend_element","color_legend_canvas","color_legend_svg","onHistChange","highlightedInterComm","initialBounds","markerIcon","shared","colorSchemeDict","0","d3","interpolateRdYlBu","1","interpolateBuGn","2","interpolateCool","loadContainmentFile","url","fetch","then","res","json","parse","MAP_TILES","MAP_ATTRIB","createMap","element","L","zoomControl","fitBounds","base","tileLayer","minZoom","maxZoom","attribution","addTo","isWithinParis","point","features","some","geoContains","setLocation","setZoom","panTo","LatLng","update_f","updateMarker","getColorsFromScheme","colorSchemeId","currentScheme","range","fillScale","scale_canvas","scale_svg","colorScale","minValue","maxValue","legendheight","legendwidth","margin","top","right","bottom","left","attr","style","node","ctx","getContext","legendscale","height","image","createImageData","rgb","g","b","putImageData","legendaxis","axisRight","scale","scaleLinear","domain","tickSize","ticks","svg","computeColorRange","percentiles","colors","domain_percentiles","unshift","domainLength","rangeLength","intermediateDomain","intermediateScale","linear","range_out","blankStyle","feature","opacity","fillOpacity","helpers","Config","require","update_clip","clip_projectPoint","default_tl_point","latLngToLayerPoint","tl_lat","tl_lng","default_br_point","br_lat","br_lng","width","latLng","tx","ty","stream","clip_transform","geo","transform","clip_path","projection","update_EV_preview","mouseX","mouseY","layer_path","substr","svg_width","parseInt","svg_height","tl","br","tl_pixels","latLngToContainerPoint","image_width","image_height","update_chart","layerURL","voro","info","voronoi_hist","interComm_hist","helpers_f","update_text_school","Urban_cooling","Ecole_path","iconAnchor","concat","updateMap","hide","console","log","update","loadLayer","pixels","tempContext","len","workersCount","finished","segmentLength","blockSize","voronoi_means","voronoi_counts","interComm_means","interComm_counts","onWorkEnded","canvasData","index","interComm_counts_portion","interComm_means_portion","voronoi_counts_portion","voronoi_means_portion","firstVoronoiByInterCommPortion","voronoi_hist_portion","interComm_hist_portion","hist_buckets","toDataURL","layerUrl","useColorScheme","colorScheme","domain_range","domain_continuous","range_continuous","color","voronoiContainment","interCommContainment","worker","Worker","onmessage","getImageData","postMessage","voronoiContainmentData","interCommContainmentData","numVoronois","numInterComms","colorDomain","colorRange","setLayer","layerPath","currentGaoLng","_","min_value","max_value","setEVLayer","src_layers","oneIfInInterComm","interCommIndex","oneIfInInterComm_","defineVoronoi","emptyOpacity","fullOpacity","append","selectAll","enter","datum","event","clientX","clientY","layerX","layerY","defineInterComms","fadedOpacity","BBox","getBBox","neBound","layerPointToLatLng","swBound","latLngBounds","shapes","src_map","EV_svg_element","EV_circle_svg_element","error","default_tl","default_br","setLocationFromCurrent","geoJson","projectPoint","defs","shape_EV","shapes_f","iconUrl","iconSize","document","createElement","layers_f","Mapvue_type_script_lang_js_","urlInterComm","urlVoronoi","queue","defer","await","v","_displayMap","circle_svg","legend","_displayMap2","slicedToArray","setTextUrban","keys","forEach","watch","_ref","_ref2","components_Mapvue_type_script_lang_js_","Map_component","Map","Sidebarvue_type_template_id_001ded9d_render","title","content","Sidebarvue_type_template_id_001ded9d_staticRenderFns","alt","Histogramvue_type_template_id_1bee94a0_render","Histogramvue_type_template_id_1bee94a0_staticRenderFns","updatePlot","that","Plotly","react","graph","histfunc","xbins","end","size","start","displayModeBar","Histogramvue_type_script_lang_js_","components_Histogramvue_type_script_lang_js_","Histogram_component","Histogram","Sidebarvue_type_script_lang_js_","components","components_Sidebarvue_type_script_lang_js_","Sidebar_component","Sidebar","Appvue_type_script_lang_js_","reduce","sidebarVisible","src_Appvue_type_script_lang_js_","App_component","App","Vue","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Intro_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Intro_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LocationControl_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ZoomControl_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ZoomControl_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Sidebar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Sidebar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.dd03a61c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.introVisible)?_c('Intro',{attrs:{\"onDismiss\":function () {_vm.introVisible = false; this$1.currentLayerPath = this$1.defaultLayer}}}):_vm._e()],1),_c('section',{staticClass:\"menu\"},[_c('LocationControl',{attrs:{\"onLocation\":function (loc) { return this$1.currentLocation = loc; }}}),_c('Layers',{attrs:{\"layers\":_vm.layers},model:{value:(_vm.currentLayerPath),callback:function ($$v) {_vm.currentLayerPath=$$v},expression:\"currentLayerPath\"}}),_c('ZoomControl')],1),_c('section',{staticClass:\"container\"},[_c('Map',{attrs:{\"layers\":_vm.layers,\"currentLayerPath\":_vm.currentLayerPath,\"currentLocation\":_vm.currentLocation,\"onHist\":function (x,y) {this$1.currentHistogramX = x; this$1.currentHistogramY = y;},\"onSchools\":function (n) {},\"appRefs\":this.$refs}}),_c('svg',{ref:\"circle_svg\",staticClass:\"EV-circle-svg\"}),_c('svg',{ref:\"svg\",staticClass:\"EV-svg\"}),_c('div',{ref:\"legend\",staticClass:\"color_legend\"}),_c('Sidebar',{attrs:{\"layers\":_vm.layers,\"currentLayerPath\":_vm.currentLayerPath,\"EV_path\":_vm.EV_path,\"currentHistogramX\":_vm.currentHistogramX,\"currentHistogramY\":_vm.currentHistogramY}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"intro\"},[_vm._m(0),_c('p',[_vm._v(\"Découvrez l'influence de la nature sur votre vie à Paris.\")]),_c('section',{staticClass:\"buttons\"},[_c('a',{staticClass:\"button accent\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDismiss($event)}}},[_vm._v(\"Commencer\")]),_c('a',{staticClass:\"button\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDismiss($event)}}},[_vm._v(\"Visite guidée\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_vm._v(\"\\n    EcoParis\\n    \"),_c('img',{attrs:{\"src\":\"assets/parrot.svg\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"intro\">\n    <h1>\n      EcoParis\n      <img src=\"assets/parrot.svg\">\n    </h1>\n\n    <p>Découvrez l'influence de la nature sur votre vie à Paris.</p>\n\n    <section class=\"buttons\">\n      <a @click.prevent=\"onDismiss\" href=\"#\" class=\"button accent\">Commencer</a>\n      <a @click.prevent=\"onDismiss\" href=\"#\" class=\"button\">Visite guidée</a>\n    </section>\n  </section>\n</template>\n\n<script>\nexport default {\n  props: ['onDismiss']\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.intro {\n  z-index: 1001;\n  position: fixed;\n  display: flex;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  color: #fff;\n  // background: linear-gradient(to right, rgba(#1fa2ff, .95), rgba(#12d8fa, .95), rgba(#a6ffcb, .95));\n  // background: linear-gradient(to right, rgba(#4cb8c4, .95), rgba(#3cd3ad, .95));\n  // background: linear-gradient(to right, rgba(#56ab2f, .95), rgba(#a8e063, .95));\n  background: linear-gradient(to right, rgba(#ffe259, .93), rgba(#ffa751, .95));\n}\n\n.intro.fade-enter-active, .intro.fade-leave-active {\n  transition: opacity .3s;\n}\n\n.intro.fade-enter, .intro.fade-leave-to {\n  opacity: 0;\n}\n\n.intro h1, .intro p {\n  text-shadow: 0 0 2px rgba(0, 0, 0, .4);\n}\n\n.intro h1 {\n  font-family: 'Cedarville Cursive';\n  font-size: 38pt;\n  margin: 0 0 -.3rem;\n  position: relative;\n}\n\n.intro h1 img {\n  position: absolute;\n  width: 64px;\n  top: -8px;\n  right: -30px;\n}\n\n.intro p {\n  font-size: 21pt;\n  margin: 0;\n}\n\n.intro .buttons {\n  margin-top: 60px;\n}\n\n.intro .button {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Intro.vue?vue&type=template&id=8e00bca0&\"\nimport script from \"./Intro.vue?vue&type=script&lang=js&\"\nexport * from \"./Intro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Intro.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Intro.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"zoom-control\"},[_c('a',{staticClass:\"minus\",attrs:{\"href\":\"#\"}},[_vm._v(\"-\")]),_c('a',{staticClass:\"plus\",attrs:{\"href\":\"#\"}},[_vm._v(\"+\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"zoom-control\">\n    <a href=\"#\" class=\"minus\">-</a>\n    <a href=\"#\" class=\"plus\">+</a>\n  </section>\n</template>\n\n<script>\nexport default {}\n</script>\n\n<style>\n.zoom-control {\n  width: 80px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoomControl.vue?vue&type=template&id=5796146f&\"\nimport script from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ZoomControl.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ZoomControl.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"location-control\"},[_c('a',{staticClass:\"locate\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.locate($event)}}},[_c('i',{staticClass:\"fas fa-map-marker-alt\"})]),_c('div',{class:{search: true, active: _vm.searchExpanded}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSearch($event)}}},[(_vm.searchExpanded)?_c('i',{staticClass:\"fas fa-search-minus\"}):_c('i',{staticClass:\"fas fa-search-location\"})]),_c('input',{ref:\"searchInput\",staticClass:\"autocomplete\",attrs:{\"type\":\"text\"},on:{\"keyup\":function($event){if(!('button' in $event)&&$event.keyCode!==27){ return null; }_vm.searchExpanded = false}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"location-control\">\n    <a href=\"#\" class=\"locate\"\n        @click.prevent=\"locate\">\n      <i class=\"fas fa-map-marker-alt\"></i>\n    </a>\n    <div :class=\"{search: true, active: searchExpanded}\">\n      <a href=\"#\" @click.prevent=\"toggleSearch\">\n        <i v-if=\"searchExpanded\" class=\"fas fa-search-minus\"></i>\n        <i v-else class=\"fas fa-search-location\"></i>\n      </a>\n      <input type=\"text\" class=\"autocomplete\" ref=\"searchInput\"\n        @keyup.27=\"searchExpanded = false\">\n    </div>\n  </section>\n</template>\n\n<script>\nimport Config from '../config.json'\n\nexport default {\n  props: ['onLocation'],\n\n  data: () => ({\n    searchExpanded: false\n  }),\n\n  mounted() {\n    const api = new google.maps.places.Autocomplete(this.$refs.searchInput)\n    api.setFields(['geometry'])\n    api.setOptions({strictBounds: true})\n    api.setBounds({\n      north: Config.viewport.topLatitude,\n      south: Config.viewport.bottomLatitude,\n      west: Config.viewport.leftLongitude,\n      east: Config.viewport.rightLongitude,\n    })\n\n    api.addListener('place_changed', () => {\n      const place = api.getPlace()\n\n      if (!place.geometry) {\n        this.onLocation(null, null)\n        return\n      }\n\n      this.searchExpanded = false\n      this.onLocation([\n        place.geometry.location.lat(),\n        place.geometry.location.lng()\n      ])\n    })\n  },\n\n  methods: {\n    locate() {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(pos => {\n          this.onLocation([pos.coords.latitude, pos.coords.longitude])\n        })\n      }\n    },\n\n    toggleSearch() {\n      this.searchExpanded ^= true\n      this.$refs.searchInput.focus()\n    },\n\n    keypressSearch(e) {\n      alert(JSON.stringify(e))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.location-control a i {\n  color: #111;\n  font-size: 18px;\n}\n\n.location-control .search {\n  display: flex;\n  align-items: center;\n\n  a {\n    border: 0 !important;\n  }\n\n  .autocomplete {\n    transition: width .25s;\n    height: 30px;\n    width: 0;\n    padding: 0;\n    border: 0 none;\n  }\n}\n\n.location-control .search.active .autocomplete {\n  width: 300px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocationControl.vue?vue&type=template&id=58e9f847&\"\nimport script from \"./LocationControl.vue?vue&type=script&lang=js&\"\nexport * from \"./LocationControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LocationControl.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"LocationControl.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"layers\"},[_c('h3',[_vm._v(\"Couches\")]),_c('div',{staticClass:\"buttons\"},_vm._l((_vm.layers),function(layer){return (!layer.hidden)?_c('a',{class:{ active: _vm.value == layer.path },on:{\"click\":function($event){$event.preventDefault();_vm.select(layer)}}},[_c('span',{staticClass:\"icon\",domProps:{\"innerHTML\":_vm._s(layer.icon)}}),_c('span',[_vm._v(_vm._s(layer.name))]),(!layer.loaded)?_c('div',{staticClass:\"loader-tile-grid\"},[_c('div',{staticClass:\"loader-tile loader-tile1\"}),_c('div',{staticClass:\"loader-tile loader-tile2\"}),_c('div',{staticClass:\"loader-tile loader-tile3\"}),_c('div',{staticClass:\"loader-tile loader-tile4\"}),_c('div',{staticClass:\"loader-tile loader-tile5\"}),_c('div',{staticClass:\"loader-tile loader-tile6\"}),_c('div',{staticClass:\"loader-tile loader-tile7\"}),_c('div',{staticClass:\"loader-tile loader-tile8\"}),_c('div',{staticClass:\"loader-tile loader-tile9\"})]):_vm._e()]):_vm._e()}))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"layers\">\n    <h3>Couches</h3>\n\n    <div class=\"buttons\">\n      <a v-for=\"layer in layers\"\n        v-if=\"!layer.hidden\"\n        :class=\"{ active: value == layer.path }\"\n        @click.prevent=\"select(layer)\">\n        <span class=\"icon\" v-html=\"layer.icon\"></span>\n        <span>{{ layer.name }}</span>\n\n        <div v-if=\"!layer.loaded\" class=\"loader-tile-grid\">\n          <div class=\"loader-tile loader-tile1\"></div>\n          <div class=\"loader-tile loader-tile2\"></div>\n          <div class=\"loader-tile loader-tile3\"></div>\n          <div class=\"loader-tile loader-tile4\"></div>\n          <div class=\"loader-tile loader-tile5\"></div>\n          <div class=\"loader-tile loader-tile6\"></div>\n          <div class=\"loader-tile loader-tile7\"></div>\n          <div class=\"loader-tile loader-tile8\"></div>\n          <div class=\"loader-tile loader-tile9\"></div>\n        </div>\n      </a>\n    </div>\n  </section>\n</template>\n\n<script>\n\nexport default {\n  props: ['layers', 'value'],\n\n  methods: {\n    select(layer) {\n      if (!layer.loading) {\n        this.$emit('input', layer.path)\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.layers {\n  max-height: 600px;\n  height: 80%;\n  width: 80px;\n  border: 1px solid #bbb;\n  box-shadow: 0 0 3px rgba(#000, .2);\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n}\n\n.layers h3, .layers a {\n  text-transform: uppercase;\n}\n\n.layers h3 {\n  width: 100%;\n  margin: 0;\n  padding: 7px 0;\n  color: #666;\n  font-size: 11pt;\n  font-weight: normal;\n  text-align: center;\n}\n\n.layers .buttons {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.layers a {\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  cursor: pointer;\n\n  height: 80px;\n  text-decoration: none;\n  border-bottom: 1px solid #bbb;\n  color: #333;\n  font-size: 10pt;\n\n  &.active {\n    background: #f3f3f3;\n    box-shadow: inset 0 0 2px rgba(0, 0, 0, .1);\n  }\n\n  &:first-child {\n    border-top: 1px solid #bbb;\n  }\n\n  .icon {\n    font-size: 1rem;\n    margin-bottom: 3px;\n  }\n}\n\n// Source: http://tobiasahlin.com/spinkit/\n.loader-tile-grid {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  cursor: not-allowed;\n}\n\n.loader-tile-grid .loader-tile {\n  width: 33%;\n  height: 33%;\n  background-color: #fff;\n  float: left;\n\n  animation: loader-tileGridScaleDelay 1.3s infinite ease-in-out;\n}\n\n.loader-tile-grid .loader-tile1 { animation-delay: 0.2s; }\n.loader-tile-grid .loader-tile2 { animation-delay: 0.3s; }\n.loader-tile-grid .loader-tile3 { animation-delay: 0.4s; }\n.loader-tile-grid .loader-tile4 { animation-delay: 0.1s; }\n.loader-tile-grid .loader-tile5 { animation-delay: 0.2s; }\n.loader-tile-grid .loader-tile6 { animation-delay: 0.3s; }\n.loader-tile-grid .loader-tile7 { animation-delay: 0s; }\n.loader-tile-grid .loader-tile8 { animation-delay: 0.1s; }\n.loader-tile-grid .loader-tile9 { animation-delay: 0.2s; }\n\n@keyframes loader-tileGridScaleDelay {\n  0%, 70%, 100% {\n    transform: scale3D(1, 1, 1);\n  } 35% {\n    transform: scale3D(0, 0, 1);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layers.vue?vue&type=template&id=c5e2b39c&\"\nimport script from \"./Layers.vue?vue&type=script&lang=js&\"\nexport * from \"./Layers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Layers.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{ref:\"map\",staticClass:\"map\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//this file contains a set of variables. Those variables should be treated as global variables, and can be used anywhere\n//used because otherwise, we would have either a 800 lines file, or 15 parameters functions...\n\nvar cachedLayers = {} //placehoder for the layers, to compute them only once\n\nvar currentLayerPath = \"\" //path of the currently selected layer\n\nvar map = null //reference to the leaflet map\n\nvar currentGeoLat = null //current latitude of the cursor\n\nvar currentGeoLng = null //current longitude of the cursos\n\nvar svg_EV = null //reference to the svg of the \"espaces verts\"\n\nvar svg_circle_EV = null //reference to the svg of the circle around the cursot\n\nvar interComms = null //reference to the interComms element, i.e. a d3.selectAll(\"path\")\n\nvar voronoi = null //reference to the voronoi element, i.e. a d3.selectAll(\"path\")\n\nvar imgs = null //reference to the current layer image, i.e. a d3.selectAll(\"image\")\n\nvar imgs_EV = null //reference to the \"espaces verts\" image, i.e. a d3.selectAll(\"image\")\n\nvar update_parameters = {} //parameters used by the update function, such as tl/br coordinates, or a \"hide\" boolean\n\nvar markerElement = null //reference to marker element, i.e. a d3.selectAll(\"image\")\n\nvar canvas = null //reference to the canvas used to generate layers\n\nvar voronoi_shape = null //shapes of the voronois, content of the geojson\n\nvar interComm_shape = null //shapes of the interComms, content of the geojson\n\nvar firstVoronoiByInterComm = [] //array containing infos about the id of the first voronoi inside a given interComm, since voronoi ids are consecutive (e.g. ids 0-7 are inside interComm 0)\n\nvar pathGenerator = null //pathGenerator, used to project paths (latLng) on the map\n\nvar defs_path = null //reference to the d3.selectAll(\"path\") used to crop the layer to the current voronoi area\n\nvar legend_element = null //element (div) that will contain the layer legend\n\nvar color_legend_canvas = null //element (canvas) that will contain the layer legend (the colors)\n\nvar color_legend_svg = null //element (div) that will contain the layer legend (the labels)\n\nvar onSchools = null //onSchools callback function, called when the number of schools changes (e.g. we hovered another area)\n\nvar onHistChange = null //onHistChange callback function, called when the histogram must be changed (e.g. we hovered another area)\n\nvar highlightedInterComm = -1 //id of the currently highlighted interComm\n\nvar initialBounds = null //initial bounds of the map (set to paris)\n\nvar markerIcon = {} //informations about the marker icon\n\nexport default {cachedLayers,\n\t\t\t\tcurrentLayerPath,\n\t\t\t\tmap,\n\t\t\t\tcurrentGeoLat,\n\t\t\t\tcurrentGeoLng,\n\t\t\t\tsvg_EV,\n\t\t\t\tsvg_circle_EV,\n\t\t\t\tinterComms,\n\t\t\t\tvoronoi,\n\t\t\t\timgs,\n\t\t\t\timgs_EV,\n\t\t\t\tupdate_parameters,\n\t\t\t\tmarkerElement,\n\t\t\t\tcanvas,\n\t\t\t\tvoronoi_shape,\n\t\t\t\tinterComm_shape,\n\t\t\t\tfirstVoronoiByInterComm,\n\t\t\t\tpathGenerator,\n\t\t\t\tdefs_path,\n\t\t\t\tlegend_element,\n\t\t\t\tcolor_legend_canvas,\n\t\t\t\tcolor_legend_svg,\n\t\t\t\tonSchools,\n\t\t\t\tonHistChange,\n\t\t\t\thighlightedInterComm,\n\t\t\t\tinitialBounds,\n\t\t\t\tmarkerIcon}","const colorSchemeDict = {\n  0:d3.interpolateRdYlBu,\n  1:d3.interpolateBuGn,\n  2:d3.interpolateCool\n}\n\nimport shared from './shared.js'\n\n/**\n * Loads a JSON containment file and parses it.\n */\nfunction loadContainmentFile (url) {\n  return fetch(url)\n    .then(res => res.json())\n    .then(json => {\n      json.data = JSON.parse(json.data)\n      return json\n    })\n}\n\nconst MAP_TILES = 'https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png'\nconst MAP_ATTRIB = '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n/**\n * Creates a Leaflet map of the Paris area and returns it.\n */\nfunction createMap (element) {\n  shared.map = L.map(element, {\n    zoomControl: false\n  })\n  var map = shared.map\n  map.fitBounds(shared.initialBounds)\n\n  const base = L.tileLayer(MAP_TILES, {\n    minZoom: 9,\n    maxZoom: 14, // Toner Light won't zoom further than 14.\n    attribution: MAP_ATTRIB\n  })\n\n  base.addTo(map)\n}\n\n/**\n * Returns whether a given point is within the Paris region.\n */\nfunction isWithinParis(point) {\n  return interComm_shape.features.some(s => d3.geoContains(s, point))\n}\n\n/**\n * Sets the position of the geolocation marker.\n */\nfunction setLocation (lat, lng) {\n  if (!lat || !lng || !isWithinParis([lng, lat])) {\n    lat = null\n    lng = null\n    shared.map.fitBounds(shared.initialBounds)\n  } else {\n    shared.map.setZoom(11)\n    shared.map.panTo(new L.LatLng(lat, lng))\n  }\n\n  shared.currentGeoLat = lat\n  shared.currentGeoLng = lng\n  update_f.updateMarker()\n}\n\n\nfunction getColorsFromScheme (colorSchemeId){\n  var currentScheme = colorSchemeDict[colorSchemeId]\n  var range = []\n  for (var i=0; i<256; ++i){\n    range.push(currentScheme(i/255))\n  }\n  return range\n}\n\n\n// create continuous color legend\nfunction fillScale (scale_canvas, scale_svg, colorScale, minValue, maxValue) {\n  var legendheight = 200,\n      legendwidth = 80,\n      margin = {top: 10, right: 40, bottom: 10, left: 2};\n\n  var canvas = scale_canvas\n    .attr(\"height\", legendheight - margin.top - margin.bottom)\n    .attr(\"width\", 1)\n    .style(\"height\", (legendheight - margin.top - margin.bottom) + \"px\")\n    .style(\"width\", (legendwidth - margin.left - margin.right) + \"px\")\n    .style(\"border\", \"1px solid #000\")\n    .style(\"position\", \"absolute\")\n    .style(\"top\", (margin.top) + \"px\")\n    .style(\"left\", (margin.left) + \"px\")\n    .node();\n\n  var ctx = canvas.getContext(\"2d\");\n\n\n  var legendscale = function(height) {\n    return colorScale(((legendheight - margin.top - margin.bottom) - height)/ (legendheight - margin.top - margin.bottom) * 255)\n  }\n\n  var image = ctx.createImageData(1, (legendheight - margin.top - margin.bottom));\n\n  for (var i=0; i<legendheight - margin.top - margin.bottom; ++i){\n    var c = d3.rgb(legendscale(i));\n    image.data[4*i] = c.r;\n    image.data[4*i + 1] = c.g;\n    image.data[4*i + 2] = c.b;\n    image.data[4*i + 3] = 255;\n  }\n  \n  ctx.putImageData(image, 0, 0);\n\n  var legendaxis = d3.axisRight()\n    .scale(d3.scaleLinear().domain([maxValue,minValue]).range([1,legendheight - margin.bottom - margin.top]))\n    .tickSize(6)\n    .ticks(8);\n\n  var svg = scale_svg\n    .attr(\"height\", (legendheight) + \"px\")\n    .attr(\"width\", (legendwidth) + \"px\")\n    .style(\"position\", \"absolute\")\n    .style(\"left\", \"0px\")\n    .style(\"top\", \"0px\")\n\n  svg\n    .select(\"g\")\n    .attr(\"class\", \"axis\")\n    .attr(\"transform\", \"translate(\" + (legendwidth - margin.left - margin.right + 3) + \",\" + (margin.top) + \")\")\n    .call(legendaxis);\n}\n\n\nfunction computeColorRange (percentiles,colors){\n  var domain_percentiles = percentiles.slice()\n  domain_percentiles.unshift(0)\n  domain_percentiles.push(255)\n\n  var domainLength = domain_percentiles.length\n  var rangeLength  = colors.length\n\n  var intermediateDomain = []\n  for (var i=0; i<rangeLength; ++i){\n    intermediateDomain[i] = i/(rangeLength-1)\n  }\n  var intermediateScale = d3.scale.linear().domain(intermediateDomain).range(colors)\n\n  var range_out = []\n  for (var i=0; i<domainLength; ++i){\n    var t = i/(domainLength-1)\n    range_out.push(intermediateScale(t))\n  }\n  return [domain_percentiles,range_out]\n}\n\n\nfunction blankStyle (feature) {\n  return {\n    opacity: 0,\n    fillOpacity: 0\n  };\n}\n\nfunction range (length){\n  var range = []\n  for (var i=0; i<length; ++i){\n    range[i]=i\n  }\n  return range\n}\n\nexport default {loadContainmentFile,createMap,setLocation,getColorsFromScheme,fillScale,computeColorRange,blankStyle,range}","var Config = require('./config.json')\nimport helpers_f from './helpers.js'\nimport shared from './shared.js'\n\nfunction update_clip() {\n  var map = shared.map\n  var cachedLayers = shared.cachedLayers\n  var currentLayerPath = shared.currentLayerPath\n  var defs_path = shared.defs_path\n  function clip_projectPoint(x, y) {\n\n    var default_tl_point = map.latLngToLayerPoint([cachedLayers[currentLayerPath].tl_lat, cachedLayers[currentLayerPath].tl_lng])\n    var default_br_point = map.latLngToLayerPoint([cachedLayers[currentLayerPath].br_lat, cachedLayers[currentLayerPath].br_lng])\n\n    var width = (default_br_point.x - default_tl_point.x)\n    var height = (default_br_point.y - default_tl_point.y)\n\n    var point = map.latLngToLayerPoint(L.latLng(y, x))\n\n    var tx = (point.x - default_tl_point.x) / (default_br_point.x - default_tl_point.x) * (width - 1)\n    var ty = (point.y - default_tl_point.y) / (default_br_point.y - default_tl_point.y) * (height - 1)\n\n    this.stream.point(tx, ty);\n  }\n\n  var clip_transform = d3.geo.transform({\n    point: clip_projectPoint\n  });\n  var clip_path = d3.geo.path()\n    .projection(clip_transform);\n  defs_path.attr(\"d\", clip_path)\n}\n\nfunction update_EV_preview(mouseX,mouseY){\n  var svg_EV = shared.svg_EV\n  var map = shared.map\n  var cachedLayers = shared.cachedLayers\n  var imgs_EV = shared.imgs_EV\n\n  var layer_path = Config.EV_path\n  if (!cachedLayers[Config.EV_path]){\n    return\n  }\n\n  svg_EV.style(\"width\").substr(0,svg_EV.style(\"width\").length-2)\n  var svg_width = parseInt(svg_EV.style(\"width\").substr(0,svg_EV.style(\"width\").length-2))\n  var svg_height = parseInt(svg_EV.style(\"height\").substr(0,svg_EV.style(\"width\").length-2))\n\n  svg_EV.attr(\"style\",\"top:\"+(mouseY - svg_height - 30)+\"; left:\"+(mouseX - svg_width/2)+\"; display:'';\")\n  shared.svg_circle_EV.attr(\"style\",\"top:\"+(mouseY - svg_height/2)+\"; left:\"+(mouseX - svg_width/2)+\"; display:'';\")\n\n\n  var tl = L.latLng(cachedLayers[layer_path].tl_lat,cachedLayers[layer_path].tl_lng)\n  var br = L.latLng(cachedLayers[layer_path].br_lat,cachedLayers[layer_path].br_lng)\n\n  var tl_pixels = map.latLngToContainerPoint(tl)\n  var br_pixels = map.latLngToContainerPoint(br)\n\n  var image_width = (map.latLngToLayerPoint(br).x - map.latLngToLayerPoint(tl).x)\n  var image_height = (map.latLngToLayerPoint(br).y - map.latLngToLayerPoint(tl).y)\n\n  imgs_EV.attr('width', image_width)\n  imgs_EV.attr('height', image_height)\n\n  imgs_EV.attr(\"transform\",\n    \"translate(\" +\n      (+ tl_pixels.x - mouseX + svg_width/2) + \",\" +\n      (+ tl_pixels.y - mouseY + svg_height/2) + \")\"\n  )\n}\n\nfunction update_chart(i,layerURL,voro) {\n  var cachedLayers = shared.cachedLayers\n  var info = cachedLayers[layerURL]\n  if (!info) {\n    return;\n  }\n  var data=[]\n  if (voro == true) {\n    data = info.voronoi_hist[i]\n  } else {\n    data = info.interComm_hist[i]\n  }\n\n  data[0]=0 // ignore 0 values\n  shared.onHistChange(helpers_f.range(256),data)\n\n}\n\nfunction update_text_school(i,layerURL,voro){\n  var cachedLayers = shared.cachedLayers\n  if(layerURL==Config.Urban_cooling){\n    var info = cachedLayers[Config.Ecole_path]\n    if (!info) {\n        return;\n    }\n    var data=[]\n    if (voro == true) {\n      data = info.voronoi_hist[i]\n    } else {\n      data = info.interComm_hist[i]\n    }\n    shared.onSchools(data)\n    // change texte according to data \n  }\n  else{\n    shared.onSchools(null)\n  }\n}\n\n/**\n * Updates the marker element on the map with the right coordinates.\n */\nfunction updateMarker() {\n  var map = shared.map\n  var currentGeoLat = shared.currentGeoLat\n  var currentGeoLng = shared.currentGeoLng\n  var markerElement = shared.markerElement\n  if (currentGeoLat && currentGeoLng) {\n    const point = map.latLngToLayerPoint([currentGeoLat, currentGeoLng])\n    const x = point.x - shared.markerIcon.iconAnchor[0]\n    const y = point.y - shared.markerIcon.iconAnchor[1]\n    markerElement.attr('visibility', 'visible')\n    markerElement.attr('transform', `translate(${x}, ${y})`)\n  } else {\n    markerElement.attr('visibility', 'hidden')\n  }\n}\n\nfunction updateMap() {//add here everything that could potentially change\n  var map = shared.map\n  var cachedLayers = shared.cachedLayers\n  var voronoi = shared.voronoi\n  var interComms = shared.interComms\n  var imgs = shared.imgs\n  var imgs_EV = shared.imgs_EV\n  var update_parameters = shared.update_parameters\n  var path = shared.pathGenerator\n\n  if (update_parameters.hide) {\n    console.log('hidden!')\n    interComms.attr('visibility', 'hidden')\n    voronoi.attr('visibility', 'hidden')\n    imgs.attr('visibility', 'hidden')\n    imgs_EV.attr('visibility', 'hidden')\n    return;\n  } else {\n    interComms.attr('visibility', 'visible')\n    voronoi.attr('visibility', 'visible')\n    imgs.attr('visibility', 'visible')\n    imgs_EV.attr('visibility', 'visible')\n  }\n\n  var tl = update_parameters.tl\n  var br = update_parameters.br\n\n  console.log('UPDATING')\n  var width = (map.latLngToLayerPoint(br).x - map.latLngToLayerPoint(tl).x)\n  var height = (map.latLngToLayerPoint(br).y - map.latLngToLayerPoint(tl).y)\n  imgs.attr(\"transform\",\n    function(d) {\n      var point = map.latLngToLayerPoint(tl)\n      return \"translate(\" +\n        point.x + \",\" +\n        point.y + \")\";\n    }\n  )\n\n  imgs.attr('width', width)\n  imgs.attr('height', height)\n  interComms.attr(\"d\", path)\n  voronoi.attr(\"d\", path)\n  update_clip()\n  updateMarker()\n  shared.svg_EV.attr(\"style\",\"display:none;\")\n  shared.svg_circle_EV.attr(\"style\",\"display:none;\")\n}\n\nexport default{update_clip,update_EV_preview,update_chart,update_text_school,updateMarker,updateMap}","var Config = require('./config.json')\nimport helpers_f from './helpers.js'\nimport shared from './shared.js'\nimport update_f from './update.js'\n\n\n/**\n * Loads, pre-processes and caches the layer with the given path.\n * This includes:\n * - Fetching the layer's JSON data;\n * - Fetching containment files.\n * - Preparing arrays for means, counts and histograms.\n * - Dispatching those computations to worker threads.\n */\nfunction loadLayer(path, callback) {\n  var canvas = shared.canvas\n  var voronoi_shape = shared.voronoi_shape\n  var interComm_shape = shared.interComm_shape\n  if (shared.cachedLayers[path]) {\n    callback();\n    return;\n  }\n\n  fetch(path)\n    .then(res => res.json())\n    .then(json => {\n      json.data = JSON.parse(json.data)\n      json.percentiles = JSON.parse(json.percentiles)\n\n      var pixels = json.data;\n\n      canvas.width = json.width\n      canvas.height = json.height\n\n      var tempContext = canvas.getContext(\"2d\");\n      tempContext.createImageData(canvas.width, canvas.height);\n\n      var len = canvas.height * canvas.width;\n      var workersCount = 1;\n      var finished = 0;\n      var segmentLength = len / workersCount;\n      var blockSize = canvas.height / workersCount;\n\n      //initalize means and counts arrays\n      var voronoi_means = []\n      var voronoi_counts = []\n      var voronoi_hist = {}\n\n      for (var i = 0; i < voronoi_shape.features.length; ++i) {\n        voronoi_counts[i] = 0\n        voronoi_means[i] = 0\n        voronoi_hist[i] = []\n        for (var j=0; j<256; ++j){\n          voronoi_hist[i][j]=0\n        }\n      }\n\n      var interComm_means = []\n      var interComm_counts = []\n      var interComm_hist = {}\n\n      for (var i = 0; i < interComm_shape.features.length; ++i) {\n        interComm_counts[i] = 0\n        interComm_means[i] = 0\n        interComm_hist[i] = []\n        for (var j=0; j<256; ++j){\n          interComm_hist[i][j]=0\n        }\n      }\n\n      shared.firstVoronoiByInterComm = []\n      var firstVoronoiByInterComm = shared.firstVoronoiByInterComm\n\n      for (var i = 0; i < interComm_shape.features.length; ++i) {\n        firstVoronoiByInterComm[i] = 10000 //bigger than the max, ~670\n      }\n\n      // Return a promise.\n      var onWorkEnded = function(e) {\n        var canvasData = e.data.result;\n        var index = e.data.index;\n\n        var interComm_counts_portion = e.data.interComm_counts\n        var interComm_means_portion = e.data.interComm_means\n        var voronoi_counts_portion = e.data.voronoi_counts\n        var voronoi_means_portion = e.data.voronoi_means\n        var firstVoronoiByInterCommPortion = e.data.firstVoronoiByInterComm\n        var voronoi_hist_portion = e.data.voronoi_hist\n        var interComm_hist_portion = e.data.interComm_hist\n\n        for (var i = 0; i < voronoi_shape.features.length; ++i) {\n          voronoi_counts[i] += voronoi_counts_portion[i]\n          voronoi_means[i] += voronoi_means_portion[i]\n\n          for (var j=0; j<256; ++j){\n            voronoi_hist[i][j] += voronoi_hist_portion[i][j]\n          }\n        }\n\n        for (var i = 0; i < interComm_shape.features.length; ++i) {\n          interComm_counts[i] += interComm_counts_portion[i]\n          interComm_means[i] += interComm_means_portion[i]\n\n          for (var j=0; j<256; ++j){\n            interComm_hist[i][j] += interComm_hist_portion[i][j]\n          }\n          \n\n          if (firstVoronoiByInterComm[i] > firstVoronoiByInterCommPortion[i]) {\n            firstVoronoiByInterComm[i] = firstVoronoiByInterCommPortion[i]\n          }\n        }\n\n        tempContext.putImageData(canvasData, 0, blockSize * index);\n        finished++;\n\n        if (finished == workersCount) {\n          if(path == Config.Ecole_path){\n            // Here we count the number of schools\n              for (var i = 0; i < voronoi_shape.features.length; ++i) {\n                  voronoi_means[i] /= 255\n              }\n              for (var i = 0; i < interComm_shape.features.length; ++i) {\n                  interComm_means[i] /= 255\n              }\n          }\n          else{\n            for (var i = 0; i < voronoi_shape.features.length; ++i) {\n              if (voronoi_counts[i] != 0) {\n                voronoi_means[i] /= voronoi_counts[i]\n              }\n            }\n            for (var i = 0; i < interComm_shape.features.length; ++i) {\n              if (interComm_counts[i] != 0) {\n                interComm_means[i] /= interComm_counts[i]\n              }\n            }\n          }\n              \n          var hist_buckets = [70, 140]; //TODO: change acodring to layer (hard-coded...)\n\n          var value = canvas.toDataURL(\"png\");\n          //imgs.attr(\"xlink:href\", value)\n          \n          shared.cachedLayers[path] = {\n            \"url\": value,\n            \"tl_lat\": json.tl_lat,\n            \"tl_lng\": json.tl_lng,\n            \"br_lat\": json.br_lat,\n            \"br_lng\": json.br_lng,\n            \"width\": canvas.width,\n            \"height\": canvas.height,\n            \"voronoi_means\": voronoi_means,\n            \"interComm_means\": interComm_means,\n            \"voronoi_hist\": voronoi_hist,\n            \"interComm_hist\": interComm_hist,\n            \"hist_buckets\": hist_buckets,\n            \"percentiles\" : json.percentiles,\n            \"layerUrl\": path\n          }\n\n          callback();\n        }\n      };\n\n      // FIXME(liautaud): Nested callbacks is a code smell.\n      // FIXME(liautaud): This should be done only once.\n\n      var domain = helpers_f.range(256)\n      var range = []\n      if (Config.layers[path].useColorScheme){\n        range = helpers_f.getColorsFromScheme(Config.layers[path].colorScheme)\n      }\n      else{\n        var domain_range = helpers_f.computeColorRange(json.percentiles,Config.layers[path].colors)\n        var domain_continuous = domain_range[0]\n        var range_continuous = domain_range[1]\n        const colorScale = d3.scale.linear()\n          .range(range_continuous).domain(domain_continuous)\n\n        for (var i=0; i<256; ++i){\n          var color = d3.rgb(colorScale(i))\n          range.push(\"rgb(\"+color.r+\",\"+color.g+\",\"+color.b+\")\")\n        }\n      }\n\n      helpers_f.loadContainmentFile(\"data/voronoi_cont.json\").then(voronoiContainment => {\n        helpers_f.loadContainmentFile(\"data/intercomm_cont.json\").then(interCommContainment => {\n          for (var index = 0; index < workersCount; index++) {\n            var worker = new Worker(\"assets/pictureProcessor.js\");\n            worker.onmessage = onWorkEnded;\n            var canvasData = tempContext.getImageData(0, blockSize * index, canvas.width, blockSize);\n            worker.postMessage({\n              canvasData: canvasData,\n              pixels: pixels,\n              index: index,\n              length: segmentLength,\n              width: canvas.width,\n              height: canvas.height,\n              voronoiContainmentData: voronoiContainment.data,\n              interCommContainmentData: interCommContainment.data,\n              numVoronois: voronoi_shape.features.length,\n              numInterComms: interComm_shape.features.length,\n              tl_lat: json.tl_lat,\n              tl_lng: json.tl_lng,\n              br_lat: json.br_lat,\n              br_lng: json.br_lng,\n              colorDomain: domain,\n              colorRange: range\n            });\n          }\n        })\n      })\n    })\n\n  // TODO(liautaud): Return a Promise.\n}\n\n\n/**\n * Changes the current layer to the one with a given path.\n */\nfunction setLayer(layerPath) {\n  var update_parameters = shared.update_parameters\n  var imgs = shared.imgs\n\n  if (!layerPath) {\n    update_parameters.hide = true\n    update_f.updateMap()\n    return;\n  }\n\n  this.loadLayer(layerPath,() => {\n    if (layerPath == Config.EV_path){ //TODO: add parameter \"AlwaysShowLayer\" in config?\n      imgs.attr(\"clip-path\", \"\")\n    }\n    else{\n      imgs.attr(\"clip-path\", \"url(#clip)\")\n    }\n    // Once the layer is loaded, we can get it from the cache.\n    const layer = shared.cachedLayers[layerPath]\n\n    update_parameters.tl = new L.LatLng(layer.tl_lat, layer.tl_lng)\n    update_parameters.br = new L.LatLng(layer.br_lat, layer.br_lng)\n    update_parameters.currentGeoLat = shared.currentGeoLat\n    update_parameters.currentGaoLng = shared.currentGeoLng\n\n    var min = 0\n    var max = 255\n\n    var domain = []\n    var range = []\n    if (Config.layers[layerPath].useColorScheme){\n      domain = helpers_f.range(256)\n      range = helpers_f.getColorsFromScheme(Config.layers[layerPath].colorScheme)\n    }\n    else{\n      var domain_range =helpers_f.computeColorRange(layer.percentiles,Config.layers[layerPath].colors)\n      domain = domain_range[0]\n      range = domain_range[1]\n    }\n\n\n    \n\n    const colorScale = d3.scale.linear()\n      .range(range).domain(domain)\n    shared.voronoi.attr('fill', (_, i) =>{\n      //console.log(layer.voronoi_means[i],colorScale(layer.voronoi_means[i]))\n      if (layerPath == Config.EV_path){\n        return \"#00000011\" //transparent\n      }\n      return colorScale(layer.voronoi_means[i])})\n\n    min = 0//Math.min(...layer.interComm_means)\n    max = 255//Math.max(...layer.interComm_means)\n\n    shared.interComms.attr('fill', (_, i) =>{\n      //console.log(layer.interComm_means[i],colorScale(layer.interComm_means[i]))\n      if (layerPath == Config.EV_path){\n        return \"#00000011\" //transparent\n      }\n      return colorScale(layer.interComm_means[i])})\n\n\n    // Reset the width and height of the canvas.\n    shared.canvas.width = layer.width\n    shared.canvas.height = layer.height\n\n    // Update the bounding box and current coordinates.\n    update_parameters.hide = false\n\n    update_f.updateMap()\n    shared.currentLayerPath = layerPath\n    imgs.attr('xlink:href', layer.url)\n\n    if (layerPath == Config.EV_path){\n      //TODO: show color legend, but discrete!\n      d3.select(shared.legend_element).style(\"display\",\"none\")\n        .style(\"border\", \"1px solid #0000\")\n    }\n    else{\n      helpers_f.fillScale(shared.color_legend_canvas,shared.color_legend_svg,colorScale,Config.layers[layerPath].min_value,Config.layers[layerPath].max_value)\n      d3.select(shared.legend_element).style(\"background-color\",\"#fff\")\n      d3.select(shared.legend_element).style(\"display\",\"\")\n        .style(\"border\", \"1px solid #000\")\n    }\n    \n  })\n}\n\nfunction setEVLayer(path){\n  shared.imgs_EV.attr(\"xlink:href\", shared.cachedLayers[Config.EV_path].url)\n}\n\nexport default {loadLayer,setLayer,setEVLayer}","var Config = require('./config.json')\nimport helpers_f from './helpers.js'\nimport shared from './shared.js'\nimport update_f from'./update.js'\n\nfunction oneIfInInterComm(interCommIndex) {\n  function oneIfInInterComm_(p, j) {\n    if (shared.firstVoronoiByInterComm[interCommIndex] <= j && (interCommIndex == shared.interComm_shape.features.length - 1 || shared.firstVoronoiByInterComm[interCommIndex + 1] > j)) {\n      return 1\n    } else {\n      return 0\n    }\n  }\n  return oneIfInInterComm_\n}\n\nfunction defineVoronoi(svg,emptyOpacity,fullOpacity){\n  return svg.append(\"g\").selectAll(\"path\")\n    .data(shared.voronoi_shape.features)\n    .enter().append('path')\n    .attr('d', shared.pathGenerator)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .style('stroke', \"#666\")\n    .style(\"fill-opacity\", emptyOpacity)\n    .style(\"stroke-opacity\", emptyOpacity)\n    .on(\"mouseover\", function(d, i) {\n      d3.select(this).style('fill-opacity', emptyOpacity);\n      shared.defs_path.datum(d.geometry)\n      update_f.update_clip()\n      update_f.update_chart(i, shared.currentLayerPath, true, shared.onHistChange)\n      update_f.update_text_school(i, shared.currentLayerPath, false, shared.onSchools)\n    })\n    .on(\"mouseout\", function(d, i) {\n      if (shared.highlightedInterComm != -1) {\n        d3.select(this).style('fill-opacity', oneIfInInterComm(shared.highlightedInterComm)(d, i));\n        d3.select(this).style('stroke-opacity', oneIfInInterComm(shared.highlightedInterComm)(d, i));\n      }\n\n      shared.defs_path.datum([])\n      update_f.update_clip()\n      shared.svg_EV.attr(\"style\",\"display:none;\")\n      shared.svg_circle_EV.attr(\"style\",\"display:none;\")\n    })\n    .on(\"click\", function(d, i) {\n      shared.interComms.style(\"pointer-events\", \"all\")\n      shared.map.fitBounds(shared.initialBounds) // zoom back to paris\n      shared.highlightedInterComm = -1\n      shared.interComms.style(\"fill-opacity\", fullOpacity)\n      shared.voronoi.style(\"fill-opacity\", emptyOpacity)\n      shared.voronoi.style(\"stroke-opacity\", emptyOpacity)\n\n      shared.defs_path.datum([])\n      update_f.update_clip()\n      shared.svg_EV.attr(\"style\",\"display:none;\")\n      shared.svg_circle_EV.attr(\"style\",\"display:none;\")\n    })\n    .on(\"mousemove\",function(){\n      if (d3.event && d3.event.clientX && d3.event.clientY && shared.currentLayerPath != Config.EV_path){\n        update_f.update_EV_preview(d3.event.layerX,d3.event.layerY)\n      }\n      else{\n        shared.svg_EV.attr(\"style\",\"display:none;\")\n        shared.svg_circle_EV.attr(\"style\",\"display:none;\")\n      }\n    })\n}\n\nfunction defineInterComms(svg,emptyOpacity,fadedOpacity,fullOpacity){\n  return svg.append(\"g\").selectAll(\"path\")\n    .data(shared.interComm_shape.features)\n    .enter().append('path')\n    .attr('d', shared.path)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .style('stroke', \"#333\")\n    .attr(\"fill\", \"#fff\")\n    .attr(\"fill-opacity\", fullOpacity)\n    .style(\"pointer-events\", \"all\")\n    .on(\"mouseover\", function(d, i) {\n      if (shared.highlightedInterComm != -1) {\n        if (i != shared.highlightedInterComm) {\n          d3.select(this).style('fill-opacity', fullOpacity);\n        } else {\n          d3.select(this).style('fill-opacity', emptyOpacity);\n        }\n      } else {\n        d3.select(this).style('fill-opacity', fadedOpacity);\n      }\n      console.log(i)\n      update_f.update_chart(i, shared.currentLayerPath, true)\n      update_f.update_text_school(i, shared.currentLayerPath, false)\n    })\n    .on(\"mouseout\", function(d, i) {\n      if (shared.highlightedInterComm != -1) {\n        if (i == shared.highlightedInterComm) {\n          d3.select(this).style('fill-opacity', emptyOpacity);\n        } else {\n          d3.select(this).style('fill-opacity', fadedOpacity);\n        }\n      } else {\n        d3.select(this).style('fill-opacity', fullOpacity);\n      }\n      shared.svg_EV.attr(\"style\",\"display:none;\")\n      shared.svg_circle_EV.attr(\"style\",\"display:none;\")\n    })\n    .on(\"click\", function(d, i) {\n      shared.interComms.style(\"pointer-events\", \"all\") // now we can click/hover on every department\n      d3.select(this).style(\"pointer-events\", \"none\") // except the current one!\n\n      shared.interComms.style(\"fill-opacity\", fadedOpacity) //same here, show every intercomm except this one\n      d3.select(this).style('fill-opacity', emptyOpacity);\n      shared.highlightedInterComm = i\n\n\n      shared.voronoi.style(\"fill-opacity\", oneIfInInterComm(i))\n      shared.voronoi.style(\"stroke-opacity\", oneIfInInterComm(i))\n\n      var BBox = d3.select(this).node().getBBox()\n      var neBound = shared.map.layerPointToLatLng(L.point(BBox.x, BBox.y))\n      var swBound = shared.map.layerPointToLatLng(L.point(BBox.x + BBox.width, BBox.y + BBox.height))\n      shared.map.fitBounds(L.latLngBounds(neBound, swBound)) // zoom to department\n      shared.svg_EV.attr(\"style\",\"display:none;\")\n      shared.svg_circle_EV.attr(\"style\",\"display:none;\")\n    })\n    .on(\"mousemove\",function(){\n      if (d3.event && d3.event.clientX && d3.event.clientY && shared.currentLayerPath != Config.EV_path){\n        //console.log(d3.event)\n        update_f.update_EV_preview(d3.event.layerX,d3.event.layerY)\n      }\n      else{\n        shared.svg_EV.attr(\"style\",\"display:none;\")\n        shared.svg_circle_EV.attr(\"style\",\"display:none;\")\n      }\n    });\n}\n\nexport default {defineVoronoi,defineInterComms}","import Config from './config.json'\n\nimport helpers_f from './helpers.js'\nimport update_f from './update.js'\nimport layers_f from './layers.js'\nimport shapes_f from './shapes.js'\nimport shared from './shared.js'\n\nexport default function(element, EV_svg_element, EV_circle_svg_element, legend_element, error, interComm_shape, voronoi_shape, onHistChange, onSchools) {\n  shared.interComm_shape = interComm_shape\n  shared.voronoi_shape = voronoi_shape\n  shared.onHistChange = onHistChange\n  shared.onSchools = onSchools\n  shared.legend_element = legend_element\n\n  const default_tl = new L.LatLng(\n    Config.viewport.topLatitude,\n    Config.viewport.leftLongitude\n  )\n  const default_br = new L.LatLng(\n    Config.viewport.bottomLatitude,\n    Config.viewport.rightLongitude\n  )\n  shared.initialBounds = L.latLngBounds(default_tl, default_br)\n\n  shared.color_legend_canvas = d3.select(legend_element)\n    .append(\"canvas\")\n\n  shared.color_legend_svg = d3.select(legend_element)\n    .append(\"svg\")\n  shared.color_legend_svg.append(\"g\")\n\n\n  /**\n   * Sets the position of the geolocation marker to the current position\n   * of the user (computed using the Geolocation API).\n   */\n  function setLocationFromCurrent() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => {\n        helpers_f.setLocation(pos.coords.latitude, pos.coords.longitude)\n      })\n    }\n  }\n\n  setLocationFromCurrent()\n\n  helpers_f.createMap(element) //TODO: if the window is small, the zoom is too far (> 14) and the map is grey, untill we zoom in\n\n  L.geoJson(interComm_shape, {\n    style: helpers_f.blankStyle\n  }).addTo(shared.map); //needed! otherwise a svg isn't generated, we use this one for practical purposes\n\n  var svg = d3.select(element).select(\".leaflet-zoom-animated\")\n\n  function projectPoint(x, y) {\n    var point = shared.map.latLngToLayerPoint(new L.LatLng(y, x));\n    this.stream.point(point.x, point.y);\n  }\n  var transform = d3.geo.transform({\n    point: projectPoint\n  });\n  shared.pathGenerator = d3.geo.path()\n    .projection(transform);\n\n  var defs = svg.append(\"defs\");\n  shared.defs_path = defs.append(\"path\")\n    .attr(\"id\", \"clip_path\")\n\n  defs.append(\"clipPath\")\n    .attr(\"id\", \"clip\")\n    .append(\"use\")\n    .attr(\"xlink:href\", \"#clip_path\");\n\n  shared.imgs = svg.selectAll(\"image\").data([0])\n    .enter()\n    .append(\"svg:image\")\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr(\"xlink:href\", \"\")\n    .attr(\"clip-path\", \"\")\n\n  update_f.update_clip()\n\n\n  var emptyOpacity = 0\n  var fadedOpacity = 0.4\n  var semiFullOpacity = 0.7\n  var fullOpacity = 1\n\n  shared.svg_EV = d3.select(EV_svg_element)\n    .attr(\"style\",\"display:none;\")\n\n  shared.svg_circle_EV = d3.select(EV_circle_svg_element)\n    .attr(\"style\",\"display:none;\")\n\n  shared.imgs_EV = shared.svg_EV.selectAll(\"image\").data([0])\n    .enter()\n    .append(\"svg:image\")\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr(\"xlink:href\", \"\")\n\n  var shape_EV = shared.svg_EV.append(\"g\")\n  shape_EV\n    .selectAll(\"path\")\n    .data([interComm_shape.features[0]])\n    .enter().append('path')\n    .attr('vector-effect', 'non-scaling-stroke')\n    .style('stroke', \"#000\")\n    .style(\"fill-opacity\", 0)\n    .style(\"stroke-opacity\", 1)\n\n\n  shared.voronoi = shapes_f.defineVoronoi(svg,emptyOpacity,fullOpacity)\n\n  shared.interComms = shapes_f.defineInterComms(svg,emptyOpacity,fadedOpacity,fullOpacity)\n\n  shared.markerIcon = {\n    iconUrl: 'assets/marker.png',\n    iconSize: [24, 24],\n    iconAnchor: [12, 24]\n  }\n\n  shared.markerElement = svg.append(\"g\").selectAll(\"image\").data([0])\n    .enter()\n    .append(\"svg:image\")\n    .attr(\"xlink:href\", shared.markerIcon.iconUrl)\n    .attr(\"width\", shared.markerIcon.iconSize[0])\n    .attr(\"height\", shared.markerIcon.iconSize[1])\n    .attr('visibility', 'hidden')\n    .style(\"pointer-events\", \"none\")\n\n  shared.canvas = document.createElement(\"canvas\")\n\n  shared.update_parameters = {\n    hide: true,\n  };\n\n  shared.map.on('viewreset', function(){update_f.updateMap()})\n\n  return [layers_f.loadLayer, layers_f.setLayer, helpers_f.setLocation, layers_f.setEVLayer]\n}","<template>\n  <section ref=\"map\" class=\"map\">\n  </section>\n</template>\n\n<script>\nimport Config from '../config.json'\nimport displayMap from '../map'\n\nexport default {\n  props: ['layers', 'currentLayerPath', 'currentLocation', 'onHist', 'onSchools', 'appRefs', 'onSchools'],\n  data: () => ({\n    loadLayer: () => {},\n    setLayer: () => {},\n    setLocation: () => {},\n  }),\n\n  /**\n   * Triggers when the component has been mounted.\n   * This is used to create the Leaflet map and bind the event handlers.\n   */\n  mounted () {\n    var urlInterComm = 'data/intercommunalites.geojson'\n    var urlVoronoi = 'data/voronois.json'\n\n    queue()\n      .defer(d3.json, urlInterComm)\n      .defer(d3.json, urlVoronoi)\n      .await((e, d, v) => {\n        [this.loadLayer, this.setLayer, this.setLocation, this.setEVLayer, this.setTextUrban] =\n          displayMap(this.$refs.map,this.appRefs.svg,this.appRefs.circle_svg,this.appRefs.legend, e, d, v, this.onHist, this.onSchools)\n\n        Object.keys(Config.layers).forEach(layerPath => {\n\n        this.layers[layerPath].path=layerPath;\n        this.loadLayer(\n          layerPath,\n          () => {\n            this.layers[layerPath].loaded = true\n            \n            if (layerPath == Config.EV_path){\n              this.setEVLayer(layerPath)\n            }          \n          }\n        )})\n\n        this.setLayer(this.currentLayerPath)\n      })\n  },\n\n  watch: {\n    /**\n     * Watches changes to the currentLayerPath prop, and updates the map.\n     */\n    currentLayerPath(layerPath) {\n      this.setLayer(layerPath)\n    },\n\n    /**\n     * Watches changes to the currentLocation prop, and updates the marker.\n     */\n    currentLocation([lat, lng]) {\n      this.setLocation(lat, lng)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.map {\n  flex: 1;\n}\n\n.leaflet-overlay-pane {\n  mix-blend-mode: multiply;\n\n  image {\n    image-rendering: optimizespeed;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=7bd138c9&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Map.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"sidebar\"},[(_vm.currentLayerPath && _vm.layers[_vm.currentLayerPath].loaded)?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.layers[_vm.currentLayerPath].title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.layers[_vm.currentLayerPath].content)}}),(_vm.currentLayerPath != _vm.EV_path)?_c('Histogram',{attrs:{\"x\":_vm.currentHistogramX,\"y\":_vm.currentHistogramY}}):_vm._e()],1):_c('div',{staticClass:\"split\"},[_vm._m(0),_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',[_c('h2',[_vm._v(\"Bienvenue sur EcoParis.\")]),_c('p',[_vm._v(\"EcoParis est une visualisation interactive des données cartographiques des services écosystémiques en territoires urbains et péri-urbains en région Ile-de-France issues du projet \"),_c('a',{attrs:{\"href\":\"https://idefese.wordpress.com/\"}},[_vm._v(\"IDEFESE\")]),_vm._v(\".\")]),_c('p',[_vm._v(\"Pour commencer, vous pouvez sélectionner une couche à afficher parmi des mesures de rétention \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"de phosphore\")]),_vm._v(\" et \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"d'azote\")]),_vm._v(\", des mesures de \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"réduction de la température\")]),_vm._v(\" due à la végétation ou encore de \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"valeur économique\")]),_vm._v(\" des régions.\")]),_c('p',[_vm._v(\"Vous pouvez aussi choisir d'afficher l'évolution estimée de ces mesures à l'horizon 2025 dans un scénario de changement climatique.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"about\"},[_c('p',[_vm._v(\"EcoParis a été conçu par des élèves du cours de \"),_c('a',{attrs:{\"href\":\"https://edu.epfl.ch/coursebook/en/data-visualization-COM-480\"}},[_vm._v(\"Data Visualization\")]),_vm._v(\" de l'EPFL, avec l'aide de Perrine Hamel du projet \"),_c('a',{attrs:{\"href\":\"https://naturalcapitalproject.stanford.edu/\"}},[_vm._v(\"Natural Capital Project\")]),_vm._v(\" de Stanford.\")]),_c('section',{staticClass:\"slideshow\"},[_c('a',{attrs:{\"href\":\"https://www.epfl.ch/\"}},[_c('img',{attrs:{\"src\":\"https://mediacom.epfl.ch/files/content/sites/mediacom/files/EPFL-Logo.jpg\",\"alt\":\"Logo EPFL\"}})]),_c('a',{attrs:{\"href\":\"https://naturalcapitalproject.stanford.edu/\"}},[_c('img',{attrs:{\"src\":\"https://idefese.files.wordpress.com/2018/11/image5.jpg?w=172&h=171\",\"alt\":\"Logo NatCap\"}})])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"graph\",staticClass:\"graph-box\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"graph\" class=\"graph-box\"></div>\n</template>\n\n<script>\n/**\n * Updates the Plotly plot according to this.data.\n */\nconst updatePlot = (that) =>{\n  Plotly.react(that.$refs.graph, [{\n    x: that.x,\n    y: that.y,\n    type: 'histogram',\n    histfunc: \"sum\",\n    xbins: {\n      end: 256, \n      size: 1, \n      start: 0\n    }\n  }], {\n    margin: {\n      l: 35,\n      r: 35,\n      t: 5,\n      b: 20,\n    },\n  }, {\n    displayModeBar: false,\n  })\n}\n\nexport default {\n  props: ['x','y'],\n\n  mounted() {\n    updatePlot(this)\n  },\n\n  watch: {\n    /**\n     * Watches changes to the data prop, and updates the histogram.\n     */\n    x() {\n      updatePlot(this)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n.graph-box {\n  height: 300px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Histogram.vue?vue&type=template&id=1bee94a0&\"\nimport script from \"./Histogram.vue?vue&type=script&lang=js&\"\nexport * from \"./Histogram.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Histogram.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Histogram.vue\"\nexport default component.exports","<template>\n  <section class=\"sidebar\">\n    <div v-if=\"currentLayerPath && layers[currentLayerPath].loaded\">\n      <h2>{{ layers[currentLayerPath].title }}</h2>\n      <div v-html=\"layers[currentLayerPath].content\"></div>\n      <Histogram v-if=\"currentLayerPath != EV_path\" :x=\"currentHistogramX\"\n                 :y=\"currentHistogramY\"/>\n    </div>\n\n    <div v-else class=\"split\">\n      <article>\n        <h2>Bienvenue sur EcoParis.</h2>\n\n        <p>EcoParis est une visualisation interactive des données cartographiques des services écosystémiques en territoires urbains et péri-urbains en région Ile-de-France issues du projet <a href=\"https://idefese.wordpress.com/\">IDEFESE</a>.</p>\n\n        <p>Pour commencer, vous pouvez sélectionner une couche à afficher parmi des mesures de rétention <a href=\"#\">de phosphore</a> et <a href=\"#\">d'azote</a>, des mesures de <a href=\"#\">réduction de la température</a> due à la végétation ou encore de <a href=\"#\">valeur économique</a> des régions.</p>\n\n        <p>Vous pouvez aussi choisir d'afficher l'évolution estimée de ces mesures à l'horizon 2025 dans un scénario de changement climatique.</p>\n      </article>\n\n      <article class=\"about\">\n        <p>EcoParis a été conçu par des élèves du cours de <a href=\"https://edu.epfl.ch/coursebook/en/data-visualization-COM-480\">Data Visualization</a> de l'EPFL, avec l'aide de Perrine Hamel du projet <a href=\"https://naturalcapitalproject.stanford.edu/\">Natural Capital Project</a> de Stanford.</p>\n\n        <section class=\"slideshow\">\n          <a href=\"https://www.epfl.ch/\">\n            <img src=\"https://mediacom.epfl.ch/files/content/sites/mediacom/files/EPFL-Logo.jpg\" alt=\"Logo EPFL\">\n          </a>\n          <a href=\"https://naturalcapitalproject.stanford.edu/\">\n            <img src=\"https://idefese.files.wordpress.com/2018/11/image5.jpg?w=172&h=171\" alt=\"Logo NatCap\">\n          </a>\n        </section>\n      </article>\n    </div>\n  </section>\n</template>\n\n<script>\nimport Histogram from './Histogram.vue'\n\nexport default {\n  props: ['layers', 'currentLayerPath', 'EV_path', 'currentHistogramX', 'currentHistogramY'],\n  components: { Histogram },\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\n\n#espacesVerts {\n  height: 300px;\n  width: 100%;\n  margin-top: 25px;\n  margin-bottom: 5px;\n}\n.sidebar {\n  z-index: 500;\n  width: 450px;\n  max-width: 30%;\n  box-sizing: border-box;\n  padding: 40px;\n  text-align: justify;\n\n  background: #fff;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .3);\n  overflow: auto;\n}\n\n.sidebar .split {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.sidebar p {\n  margin: 30px 0;\n}\n\n.sidebar h2 {\n  margin-top: 0;\n}\n\n.sidebar .about {\n  font-style: italic;\n}\n\n.sidebar .slideshow {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  margin: 40px 0 20px;\n\n  a {\n    height: 90px;\n  }\n\n  img {\n    height: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=001ded9d&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Sidebar.vue\"\nexport default component.exports","<template>\n  <div id=\"app\">\n    <transition name=\"fade\">\n      <Intro v-if=\"introVisible\" :onDismiss=\"() => {introVisible = false; this.currentLayerPath = this.defaultLayer}\" />\n    </transition>\n\n    <section class=\"menu\">\n      <LocationControl\n        :onLocation=\"loc => this.currentLocation = loc\" />\n      <Layers\n        :layers=\"layers\"\n        v-model=\"currentLayerPath\" />\n      <ZoomControl />\n    </section>\n    <section class=\"container\">\n      <Map\n        :layers=\"layers\"\n        :currentLayerPath=\"currentLayerPath\"\n        :currentLocation=\"currentLocation\"\n        :onHist=\"(x,y) => {this.currentHistogramX = x; this.currentHistogramY = y;}\" \n        :onSchools=\"(n) => {}\"\n        :appRefs=\"this.$refs\"/>\n      <svg ref=\"circle_svg\" class=\"EV-circle-svg\"></svg> \n      <svg ref=\"svg\" class=\"EV-svg\"></svg> \n      <div ref=\"legend\" class=\"color_legend\"></div>\n      <Sidebar\n        :layers=\"layers\"\n        :currentLayerPath=\"currentLayerPath\"\n        :EV_path=\"EV_path\"\n        :currentHistogramX=\"currentHistogramX\"\n        :currentHistogramY=\"currentHistogramY\" />\n    </section>\n  </div>\n</template>\n\n<script>\nimport Config from './config.json'\n\nimport Intro from './components/Intro.vue'\nimport ZoomControl from './components/ZoomControl.vue'\nimport LocationControl from './components/LocationControl.vue'\nimport Layers from './components/Layers.vue'\nimport Map from './components/Map.vue'\nimport Sidebar from './components/Sidebar.vue'\n\nvar defaultLayer = Config.EV_path\n\nexport default {\n  data: () => ({\n    layers: Object.keys(Config.layers).reduce((m, layerPath) => {\n      m[layerPath] = Config.layers[layerPath]\n      m[layerPath].loaded = false\n      m[layerPath].path=layerPath\n      return m\n    }, {}),\n\n    // currentLayer: 'data/p_export.json',\n    currentLayerPath: null,\n    currentLocation: null,\n    currentHistogramX: null,\n    currentHistogramY: null,\n    introVisible: true,\n    sidebarVisible: false,\n    defaultLayer: defaultLayer,\n    EV_path: Config.EV_path,\n  }),\n\n  components: { Intro, ZoomControl, LocationControl, Layers, Map, Sidebar }\n}\n</script>\n\n<style lang=\"scss\" type=\"text/scss\">\nhtml, body {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  font-size: 15pt;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  font-family: 'IBM Plex Sans', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\nh2 {\n  font-size: 1.2rem;\n}\n\np {\n  font-family: 'Crimson Text', serif;\n}\n\n.button {\n  text-decoration: none;\n  margin: 1.2rem;\n  font-size: 14pt;\n  padding: 9px 13px;\n  border: 1px solid #fff;\n  color: #fff;\n  text-transform: uppercase;\n  font-weight: 300;\n  transition: padding .2s;\n  position: relative;\n  outline: none;\n\n  &:hover {\n    padding: 9px 16px;\n  }\n\n  &.accent {\n    background: rgba(#fff, .2);\n  }\n}\n\n.menu {\n  z-index: 500;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 50px;\n  display: flex;\n  flex-direction: column;\n\n  justify-content: center;\n}\n\n.container {\n  display: flex;\n  background: #000;\n  width: 100%;\n  height: 100%;\n}\n\n.zoom-control, .location-control {\n  height: 40px;\n  border: 1px solid #bbb;\n  box-shadow: 0 0 3px rgba(#000, .2);\n  background: #fff;\n  display: flex;\n  margin: 20px 0;\n  flex-basis: content;\n\n  a {\n    outline: none;\n    height: 40px;\n    width: 39px;\n    font-family: Courier New;\n    font-size: 18pt;\n    line-height: 40px;\n    text-align: center;\n    text-decoration: none;\n    color: #000;\n  }\n\n  a:first-child {\n    border-right: 1px solid #bbb;\n  }\n}\n\n.EV-svg {\n  border-radius:50%;\n  width:120px;\n  height:120px;\n  border: 1px solid #000;\n  position:absolute;\n  background-color: #fff;\n  display: flex;\n  pointer-events: none;\n  top: -120px;\n}\n\n.EV-circle-svg {\n  border-radius:50%;\n  width:120px;\n  height:120px;\n  border: 1px solid #000;\n  position:absolute;\n  background-color: #fff0;\n  display: flex;\n  pointer-events: none;\n  top: -120px;\n}\n\n.color_legend {\n  width:80px;\n  height:200px;\n  position:absolute;\n  background-color: #fff0;\n  display: inline-block;\n  pointer-events: none;\n  top: 50px;\n  right: 30%;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=391da146&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Intro.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocationControl.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}